{"Timestamp":"2025-01-20T00:03:48.6506760+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:03:48.8245434+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:03:48.8287455+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:03:48.8528977+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:03:48.8556934+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:03:48.8583236+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:03:54.9764672+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:03:55.1139120+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:03:55.1249987+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:03:55.1329887+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:03:55.1724401+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:03:55.3680570+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:03:55.3673387Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:03:57.7825637+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Properties":{"elapsed":"70","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:03:57.8449940+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:03:57.8448516Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:03:57.8578835+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:03:57.8936631+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":2710.3611,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:03:57.9052481+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:03:57.9154156+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":2877.7944,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000001","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2877.7944"}]}}
{"Timestamp":"2025-01-20T00:03:57.9434775+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7b3781682bb9818630a7d85a4cc88bdc","SpanId":"756999db673c8751","Properties":{"ElapsedMilliseconds":2973.2976,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:08.2436288+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:08.2550254+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:08.2625635+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:08.2663200+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:08.2694695+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:08.2791292+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:08.2790292Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:08.3184204+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Properties":{"elapsed":"12","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:08.3277500+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:08.3277032Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:08.3313225+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:08.3353478+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":61.1423,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:08.3395147+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:08.3425489+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":88.8927,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000003","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"88.8927"}]}}
{"Timestamp":"2025-01-20T00:04:08.3472256+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7bd4a2f1502e955c60c743db1419b422","SpanId":"c579d90d54febb61","Properties":{"ElapsedMilliseconds":103.7577,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:09.2050241+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:09.2161666+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:09.2200040+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:09.2248150+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:09.2271216+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:09.2454529+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:09.2454114Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:09.3456374+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:09.3544860+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:09.3544540Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:09.3572205+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:09.3613395+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":128.0067,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:09.3651320+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:09.3672724+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":155.6201,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000005","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"155.6201"}]}}
{"Timestamp":"2025-01-20T00:04:09.3699717+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ed1c8aaaf2af532230d8167af875a933","SpanId":"7a4150a476b49fd0","Properties":{"ElapsedMilliseconds":164.993,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.0146113+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.0252203+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.0312398+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.0341234+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.0379228+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.0433493+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:10.0433151Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.0483562+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.0542906+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:10.0542434Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.0576509+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.0609883+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":19.0607,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.0670335+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.0693501+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":44.7152,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000007","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44.7152"}]}}
{"Timestamp":"2025-01-20T00:04:10.0729963+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bc42e4b3dce313d27c13217f95c7ba86","SpanId":"5d13fa2468fe60c6","Properties":{"ElapsedMilliseconds":58.3995,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.6061919+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.6149312+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.6182375+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.6204985+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.6227791+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.6485881+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:10.6485556Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.6576121+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.6632043+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:10.6631790Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.6662939+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.6690947+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":41.1687,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.6721911+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:10.6753299+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":61.0405,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000009","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"61.0405"}]}}
{"Timestamp":"2025-01-20T00:04:10.6790935+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dc32962c64ccd1a8c8636ebc7f3cb92b","SpanId":"cc85203da3fcb9bb","Properties":{"ElapsedMilliseconds":72.9411,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.1528714+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.1592220+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.1636268+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.1658663+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.1673599+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.1720082+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:11.1719858Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.1770495+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.1815824+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:11.1815518Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.1830262+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.1872083+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":16.0744,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.1910961+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.1932203+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":34.5587,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000000B","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.5587"}]}}
{"Timestamp":"2025-01-20T00:04:11.1978049+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"474cb7176ca7bc6f69ebd655c2727cb5","SpanId":"9004577d7e28e836","Properties":{"ElapsedMilliseconds":44.984,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.6719298+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.6799283+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.6846347+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.6869349+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.6901390+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.6963576+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:11.6963237Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.7026263+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.7091695+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:11.7091384Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.7117592+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.7151185+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":19.9188,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.7181019+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:11.7202447+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":40.9938,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000000D","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.9938"}]}}
{"Timestamp":"2025-01-20T00:04:11.7239190+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"83d00b507ed61c7f033edc6115c0b43e","SpanId":"6b6a2cf1701470d7","Properties":{"ElapsedMilliseconds":52.0405,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.1400409+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.1461297+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.1501287+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.1527808+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.1544057+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.1575656+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:12.1575435Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.1617690+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.1660957+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:12.1660491Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.1688381+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.1717999+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":14.9149,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.1766316+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.1796852+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":33.9805,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000000F","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.9805"}]}}
{"Timestamp":"2025-01-20T00:04:12.1841341+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e5b2ab05b634ffef825ce0746eace881","SpanId":"4263d35bbad6c4b8","Properties":{"ElapsedMilliseconds":44.0639,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.3615631+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.3677359+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.3720031+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.3741174+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.3760943+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.3819027+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:12.3818823Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.3876635+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.3925110+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:12.3924863Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.3955666+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.3985964+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":17.4136,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.4007882+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.4023412+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":35.2164,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000011","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.2164"}]}}
{"Timestamp":"2025-01-20T00:04:12.4048305+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"266aa652996f63123f9a3ead30a3ee0d","SpanId":"918b741f88e89cd2","Properties":{"ElapsedMilliseconds":43.3346,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.5705790+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.5775646+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.5811597+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.5842920+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.5862823+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.5902611+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:12.5902395Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.5955805+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.6003834+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:12.6003575Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.6019527+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.6039020+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":14.4385,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.6079378+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.6093515+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":32.3267,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000013","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.3267"}]}}
{"Timestamp":"2025-01-20T00:04:12.6113910+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fb1a1f3ab7c10f716b3d10f17d24db3b","SpanId":"952e353aa5736f9e","Properties":{"ElapsedMilliseconds":40.8416,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.7966173+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.8004266+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.8044798+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.8065747+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.8085170+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.8134650+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:12.8134396Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.8200406+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.8243814+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:12.8243561Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.8266366+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.8316768+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":19.0937,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.8340974+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:12.8354472+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":35.4498,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000015","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.4498"}]}}
{"Timestamp":"2025-01-20T00:04:12.8385336+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d6a80dc50245457f62a4fd141698ffa3","SpanId":"8386527615673164","Properties":{"ElapsedMilliseconds":41.946,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.0031241+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.0098875+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.0153302+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.0183046+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.0206326+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.0251980+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:13.0251763Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.0300048+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.0357066+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:13.0356813Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.0380118+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.0408109+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":16.6018,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.0434550+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.0471648+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":37.818,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000017","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"37.8180"}]}}
{"Timestamp":"2025-01-20T00:04:13.0514799+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ad639196ddc462270610464c786dfb9f","SpanId":"74e2d2c00791dd9f","Properties":{"ElapsedMilliseconds":48.3955,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.1998859+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.2090190+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.2160152+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.2184584+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.2201297+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.2242668+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:13.2242419Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.2290976+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.2344928+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:13.2344596Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.2379054+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.2405662+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":17.2582,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.2431199+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.2474452+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":39.0772,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000019","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.0772"}]}}
{"Timestamp":"2025-01-20T00:04:13.2518156+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"514eedcb570a973bf0fcc1c0596b7ca7","SpanId":"e528a8b814d17017","Properties":{"ElapsedMilliseconds":51.9444,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.4011156+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.4088050+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.4130567+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.4157963+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.4182626+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.4221722+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:13.4221583Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.4257208+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.4313210+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:13.4312930Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.4341279+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.4365581+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":14.901,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.4391299+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.4412287+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":32.8894,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000001B","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"32.8894"}]}}
{"Timestamp":"2025-01-20T00:04:13.4443581+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"23d5a1d5a4bc57a39a149a3fd9af0dca","SpanId":"d846e0ec18b352d5","Properties":{"ElapsedMilliseconds":43.2767,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.5845405+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.5879247+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.5906799+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.5920285+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.5938677+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.5998009+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:13.5997741Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.6055863+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.6113747+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:13.6113380Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.6148352+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.6194734+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":20.4923,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.6229243+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.6257377+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":38.143,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000001D","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.1430"}]}}
{"Timestamp":"2025-01-20T00:04:13.6313917+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"282acada37eefa42df69d7a5d1a6b3da","SpanId":"21e846e03c792034","Properties":{"ElapsedMilliseconds":46.9014,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.7668120+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000001F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.7703067+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000001F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.7738648+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000001F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.7759739+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000001F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.7781189+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.7823379+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:13.7823142Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.7863056+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.7910583+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:13.7910355Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.7934042+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000001F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.7966930+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":14.9215,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000001F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.8002240+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000001F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.8016299+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":31.679,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000001F","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"31.6790"}]}}
{"Timestamp":"2025-01-20T00:04:13.8039229+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bfb318bb8117e902ea595bea24c5d11e","SpanId":"89f06de8eb522998","Properties":{"ElapsedMilliseconds":37.1752,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000001F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.9522870+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000021","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.9584743+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000021","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.9621918+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000021","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.9639461+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000021","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.9658412+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000021","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.9685797+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:13.9685638Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000021","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.9721560+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000021","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.9772565+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:13.9772437Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000021","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.9808587+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000021","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.9838085+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":15.7988,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000021","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.9865942+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000021","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:13.9883852+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":30.322,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000021","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.3220"}]}}
{"Timestamp":"2025-01-20T00:04:13.9916596+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"91c7fd814648373b8f645b2274a9625c","SpanId":"11c8d7f63c8c17d5","Properties":{"ElapsedMilliseconds":39.4129,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000021","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.1366308+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000023","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.1416448+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000023","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.1452896+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000023","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.1482635+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000023","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.1497651+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000023","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.1536137+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:14.1536021Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000023","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.1573571+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000023","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.1613006+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:14.1612866Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000023","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.1639339+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000023","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.1673509+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":14.1708,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000023","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.1698925+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000023","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.1720564+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":30.8607,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000023","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.8607"}]}}
{"Timestamp":"2025-01-20T00:04:14.1758278+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1bd054aa53db83cd78e57eac4ce5b7b7","SpanId":"1a6c9c36f6a64f30","Properties":{"ElapsedMilliseconds":39.2098,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000023","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.3024287+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000025","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.3089801+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000025","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.3156909+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000025","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.3182363+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000025","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.3205620+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000025","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.3244978+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:14.3244855Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000025","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.3282567+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000025","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.3347767+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:14.3347532Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000025","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.3373155+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000025","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.3398629+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":15.8843,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000025","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.3433813+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000025","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.3486084+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":40.1843,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000025","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.1843"}]}}
{"Timestamp":"2025-01-20T00:04:14.3535335+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0c49a43c584e83f9eb60a9fea554d9cb","SpanId":"aefc7e4ee37c17f2","Properties":{"ElapsedMilliseconds":51.1662,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000025","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.4715611+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000027","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.4778965+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000027","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.4824139+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000027","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.4843642+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000027","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.4861551+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000027","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.4903133+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:14.4902997Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000027","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.4938629+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000027","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.5004938+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:14.5004783Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000027","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.5035301+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000027","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.5059982+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":16.1678,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000027","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.5087123+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000027","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.5116487+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":34.1734,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000027","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.1734"}]}}
{"Timestamp":"2025-01-20T00:04:14.5150456+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"907c9888d70ff7ba462b95265dcf6ece","SpanId":"9556c0df6e3598e7","Properties":{"ElapsedMilliseconds":43.5181,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000027","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.7131694+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000029","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.7213820+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000029","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.7261784+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000029","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.7288035+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000029","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.7321530+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000029","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.7363833+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:14.7363693Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000029","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.7405177+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000029","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.7456472+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:14.7456268Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000029","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.7484764+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000029","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.7517947+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":15.9236,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000029","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.7544899+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000029","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:14.7563995+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":35.5411,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000029","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.5411"}]}}
{"Timestamp":"2025-01-20T00:04:14.7588404+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4e15c584b988bee12ba62483efef9dcf","SpanId":"7314e61b4676b80c","Properties":{"ElapsedMilliseconds":45.7399,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000029","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:19.2248760+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000002B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:19.2293235+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000002B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:19.2323052+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000002B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:19.2346558+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000002B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:19.2371376+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:19.2433183+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:19.2433016Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:19.2491388+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:19.2552351+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:19.2552048Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:19.2583953+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:19.2604814+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":17.6569,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000002B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:19.2644924+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000002B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:19.2658582+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":36.9619,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000002B","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.9619"}]}}
{"Timestamp":"2025-01-20T00:04:19.2689635+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d2a758e706eb3cc367667ce33d2b4be1","SpanId":"ddc87f8377c97a64","Properties":{"ElapsedMilliseconds":44.1018,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000002B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:21.3514051+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000002D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:21.3569403+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000002D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:21.3617327+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000002D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:21.3639794+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000002D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:21.3660210+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:21.3722877+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:21.3722704Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:21.3770854+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:21.3825548+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:21.3825243Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:21.3860784+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:21.3890216+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":17.3289,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000002D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:21.3924389+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000002D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:21.3956239+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":39.2254,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000002D","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.2254"}]}}
{"Timestamp":"2025-01-20T00:04:21.4003003+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cc41e8dfea66a25ec815a7b67a7f57fc","SpanId":"49da61e33fed4be6","Properties":{"ElapsedMilliseconds":48.9541,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000002D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:22.1401483+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000002F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:22.1466340+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000002F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:22.1500943+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000002F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:22.1528173+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000002F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:22.1551785+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:22.1597970+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:22.1597833Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:22.1651355+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:22.1705058+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:04:22.1704784Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:22.1847783+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000002F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:22.1901865+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":30.9755,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000002F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:22.1948473+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000002F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:04:22.1980081+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":51.7431,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000002F","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.7431"}]}}
{"Timestamp":"2025-01-20T00:04:22.2030781+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"984916465df4c9fc6bed9f3ad62c5d90","SpanId":"8e892a20415baa22","Properties":{"ElapsedMilliseconds":62.9801,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000002F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:41.8404019+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000031","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:41.8579572+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000031","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:41.8626354+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000031","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:41.8650591+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000031","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:41.8671762+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000031","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:41.8743961+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:05:41.8743756Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000031","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:41.8819995+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000031","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:41.8856790+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:05:41.8856624Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000031","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:41.8881562+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000031","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:41.8915506+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":17.8698,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000031","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:41.8965859+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000031","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:41.8996406+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":42.2202,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000031","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.2202"}]}}
{"Timestamp":"2025-01-20T00:05:41.9034944+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"34f5688b81ba7b8e36299ad026a314e6","SpanId":"918c3e196957c69e","Properties":{"ElapsedMilliseconds":63.0626,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000031","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:47.2955760+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000033","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:47.3015045+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000033","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:47.3057717+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000033","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:47.3083822+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000033","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:47.3114118+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000033","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:47.3153069+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:05:47.3152821Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000033","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:47.3203201+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000033","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:47.3249508+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:05:47.3249348Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000033","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:47.3281454+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000033","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:47.3326346+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":18.0153,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000033","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:47.3348807+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000033","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:47.3362644+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":35.6343,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000033","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"35.6343"}]}}
{"Timestamp":"2025-01-20T00:05:47.3386292+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"15cef44bc334319e13d971b8346c807a","SpanId":"8e42ce3c7989bfd0","Properties":{"ElapsedMilliseconds":43.1047,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000033","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:48.5846853+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000035","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:48.5916651+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000035","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:48.5969508+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000035","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:48.6003829+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000035","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:48.6025449+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000035","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:48.6069369+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:05:48.6069192Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000035","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:48.6116521+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000035","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:48.6183589+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:05:48.6183413Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000035","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:48.6209633+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000035","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:48.6233369+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":17.2408,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000035","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:48.6329158+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000035","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:48.6339544+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":42.9613,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000035","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.9613"}]}}
{"Timestamp":"2025-01-20T00:05:48.6373701+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bc9bd31d02f03ea8830e3a7a35402941","SpanId":"897ce62f5f43d226","Properties":{"ElapsedMilliseconds":52.7508,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000035","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:51.9040393+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000037","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:51.9126540+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000037","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:51.9184680+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000037","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:51.9205772+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000037","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:51.9233984+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000037","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:51.9283850+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:05:51.9283642Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000037","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:51.9341229+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000037","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:51.9409509+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:05:51.9409233Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000037","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:51.9444901+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000037","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:51.9479502+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":20.2399,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000037","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:51.9505338+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000037","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:05:51.9524223+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":40.4457,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000037","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.4457"}]}}
{"Timestamp":"2025-01-20T00:05:51.9550179+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9885536d652551b27a8a5753ba6d0988","SpanId":"abb035b15c011587","Properties":{"ElapsedMilliseconds":51.0112,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000037","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:25.2639194+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000039","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:25.2729611+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000039","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:25.2747042+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000039","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:25.2758159+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000039","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:25.2774139+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000039","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:25.2799020+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:25.2798896Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000039","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:25.2825759+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000039","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:25.2845978+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:25.2845890Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000039","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:25.2856732+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000039","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:25.2869072+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":7.3983,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000039","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:25.2881747+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000039","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:25.2890907+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":16.4723,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000039","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"16.4723"}]}}
{"Timestamp":"2025-01-20T00:06:25.2905948+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5ed6c3bb46993920a38d7aafdf0839e6","SpanId":"d45234477531b904","Properties":{"ElapsedMilliseconds":26.7365,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000039","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:26.6837349+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000003B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:26.6917746+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000003B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:26.6947940+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000003B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:26.6960144+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000003B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:26.6976257+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:26.7027357+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:26.7027188Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:26.7089548+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:26.7144318+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:26.7143992Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:26.7178865+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:26.7263113+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":24.102,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000003B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:26.7299436+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000003B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:26.7327796+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":41.6701,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000003B","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.6701"}]}}
{"Timestamp":"2025-01-20T00:06:26.7365472+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d1d934515b92b871093bec68de9c5fe9","SpanId":"f291c0e659a96369","Properties":{"ElapsedMilliseconds":52.9482,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000003B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.3456951+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000003D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.3546439+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000003D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.3587972+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000003D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.3617318+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000003D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.3640690+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.3688733+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:27.3688592Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.3753140+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.3798781+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:27.3798663Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.3824393+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.3858253+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":17.8111,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000003D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.3884304+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000003D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.3906017+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":36.6071,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000003D","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.6071"}]}}
{"Timestamp":"2025-01-20T00:06:27.3952395+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"b568ebbbe4238571e912e4ad66c0a3ff","SpanId":"f9eb0a3fff48f79c","Properties":{"ElapsedMilliseconds":49.5802,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000003D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.5170049+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000003F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.5247740+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000003F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.5298445+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000003F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.5319088+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000003F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.5337119+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.5395890+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:27.5395769Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.5458836+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.5522153+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:27.5522058Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.5552066+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000003F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.5581656+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":19.1862,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000003F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.5618717+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000003F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.5648411+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":40.6289,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000003F","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.6289"}]}}
{"Timestamp":"2025-01-20T00:06:27.5680240+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c79a2898a9b43c0d8ee3788080d63824","SpanId":"00faa9478fcf2ebf","Properties":{"ElapsedMilliseconds":51.0873,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000003F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.7144120+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000041","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.7188993+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000041","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.7222341+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000041","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.7238059+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000041","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.7263648+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000041","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.7310215+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:27.7310132Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000041","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.7339680+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000041","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.7381215+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:27.7381133Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000041","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.7400296+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000041","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.7433655+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":12.7396,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000041","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.7462909+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000041","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.7483435+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":29.765,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000041","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.7650"}]}}
{"Timestamp":"2025-01-20T00:06:27.7526832+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"17e6dc6effc0bc6d7c275ebe2a368a8c","SpanId":"bff3e02a44ade12a","Properties":{"ElapsedMilliseconds":38.2716,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000041","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.9075101+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000043","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.9152611+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000043","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.9205798+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000043","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.9246309+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000043","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.9279441+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000043","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.9322329+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:27.9322199Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000043","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.9370466+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000043","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.9415326+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:27.9415232Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000043","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.9450717+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000043","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.9485608+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":16.9121,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000043","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.9511569+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000043","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:27.9535874+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":38.8819,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000043","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.8819"}]}}
{"Timestamp":"2025-01-20T00:06:27.9562880+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"65398083e072adbfff553ded078f0cf8","SpanId":"5be08bf5d5933be5","Properties":{"ElapsedMilliseconds":48.8102,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000043","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:28.1249158+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000045","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:28.1305047+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000045","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:28.1328970+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000045","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:28.1343291+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000045","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:28.1356789+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000045","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:28.1385702+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:28.1385633Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000045","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:28.1415293+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000045","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:28.1473842+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:28.1473749Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000045","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:28.1500899+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000045","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:28.1522914+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":14.4623,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000045","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:28.1542482+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000045","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:28.1564797+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":26.3715,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000045","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.3715"}]}}
{"Timestamp":"2025-01-20T00:06:28.1605687+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0de6915dbe36166777d7faaf7f6698a1","SpanId":"279594f0aa43faf7","Properties":{"ElapsedMilliseconds":35.7037,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000045","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:43.3787438+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000047","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:43.3857614+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000047","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:43.3908165+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000047","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:43.3934269+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000047","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:43.3970298+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000047","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:43.4026404+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:43.4026258Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000047","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:43.4092650+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000047","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:43.4170226+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:06:43.4170097Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000047","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:43.4202787+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000047","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:43.4233136+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":21.4385,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000047","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:43.4258728+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000047","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:06:43.4287439+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":43.4727,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000047","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"43.4727"}]}}
{"Timestamp":"2025-01-20T00:06:43.4327588+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0b63edc5c88fb2428fef8bcf2f408611","SpanId":"8cfd6d0e8ff5f9b9","Properties":{"ElapsedMilliseconds":54.0083,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000047","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:15.2457379+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000049","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:15.2621848+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000049","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:15.2658519+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000049","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:15.2686595+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000049","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:15.2709505+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000049","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:15.2754315+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:15.2754224Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000049","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:15.2798430+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000049","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:15.2856844+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:15.2856747Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000049","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:15.2875645+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000049","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:15.2902578+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":15.248,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000049","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:15.2946103+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000049","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:15.2960047+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":34.408,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000049","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.4080"}]}}
{"Timestamp":"2025-01-20T00:07:15.2982297+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"90b782388da20dc0f5d320b0149ffb8c","SpanId":"065369049c8e1a39","Properties":{"ElapsedMilliseconds":52.4965,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000049","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.2212080+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000004B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.2273931+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000004B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.2307694+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000004B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.2339302+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000004B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.2363052+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.2418013+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:16.2417890Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.2465775+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.2539407+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:16.2539328Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.2577042+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.2619370+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":20.6135,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000004B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.2652647+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000004B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.2686176+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":41.5515,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000004B","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.5515"}]}}
{"Timestamp":"2025-01-20T00:07:16.2726256+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"85b18a8ea148800ea8fc67c263573793","SpanId":"ac4344ff28280b2a","Properties":{"ElapsedMilliseconds":51.4292,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000004B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.5285218+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000004D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.5373098+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000004D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.5402598+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000004D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.5432121+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000004D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.5454250+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.5496915+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:16.5496814Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.5558784+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.5637146+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:16.5637019Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.5668973+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.5702731+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":21.0236,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000004D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.5744086+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000004D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.5765686+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":39.5543,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000004D","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.5543"}]}}
{"Timestamp":"2025-01-20T00:07:16.5801392+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7fa5961b776b7bdf3891154e9fcf06f6","SpanId":"5c86debc71eb501c","Properties":{"ElapsedMilliseconds":51.6316,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000004D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.8538029+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000004F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.8622243+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000004F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.8666578+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000004F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.8710575+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000004F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.8738484+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.8791694+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:16.8791565Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.8851368+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.8931156+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:16.8930977Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.8965956+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000004F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.9019905+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":23.3085,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000004F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.9055374+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000004F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:16.9080336+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":46.397,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000004F","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"46.3970"}]}}
{"Timestamp":"2025-01-20T00:07:16.9118797+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"26ed1df76b79e8f425b07878dd12fd03","SpanId":"2339f149d15451ef","Properties":{"ElapsedMilliseconds":58.0916,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000004F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.0740623+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000051","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.0775140+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000051","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.0807810+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000051","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.0840493+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000051","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.0860788+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000051","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.0901204+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:17.0901107Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000051","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.0969340+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000051","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.1042330+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:17.1042203Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000051","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.1074091+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000051","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.1109621+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":21.2606,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000051","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.1141855+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000051","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.1168585+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":39.5973,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000051","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.5973"}]}}
{"Timestamp":"2025-01-20T00:07:17.1225209+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"72609675697c9bcd2f1912430a667e31","SpanId":"52d152cca79fc7aa","Properties":{"ElapsedMilliseconds":48.4673,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000051","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.2907139+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000053","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.2979399+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000053","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.3036230+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000053","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.3054623+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000053","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.3070080+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000053","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.3110893+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:17.3110808Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000053","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.3155665+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000053","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.3242000+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:17.3241909Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000053","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.3268681+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000053","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.3305080+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":19.856,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000053","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.3344401+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000053","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.3360610+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":38.557,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000053","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.5570"}]}}
{"Timestamp":"2025-01-20T00:07:17.3394990+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3d80ce076f7f0300b4371a34cb4b81c6","SpanId":"1ca35ec56a6d48c7","Properties":{"ElapsedMilliseconds":48.8091,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000053","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.4925553+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000055","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.5017384+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000055","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.5057928+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000055","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.5078105+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000055","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.5101328+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000055","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.5133613+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:17.5133552Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000055","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.5172235+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000055","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.5219862+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:17.5219779Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000055","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.5238418+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000055","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.5259893+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":12.932,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000055","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.5301460+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000055","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:17.5318210+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":30.4875,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000055","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.4875"}]}}
{"Timestamp":"2025-01-20T00:07:17.5347090+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f81e61ccaa66d41fb83bcc9f60d0a331","SpanId":"18da5db487ceccec","Properties":{"ElapsedMilliseconds":42.1805,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000055","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.2959777+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000057","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.3036722+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000057","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.3074759+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000057","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.3098502+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000057","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.3127039+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000057","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.3188943+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:19.3188844Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000057","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.3237585+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000057","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.3303250+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:19.3303137Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000057","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.3327238+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000057","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.3369844+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":18.5852,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000057","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.3409047+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000057","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.3428255+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":39.5728,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000057","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.5728"}]}}
{"Timestamp":"2025-01-20T00:07:19.3451443+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e8e7255db4d286611e577d05efc770e1","SpanId":"3174bab0d2a38da3","Properties":{"ElapsedMilliseconds":49.1769,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000057","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.4903015+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000059","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.4973180+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000059","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.5033470+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000059","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.5073451+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000059","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.5107935+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000059","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.5172326+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:19.5172191Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000059","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.5254521+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000059","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.5342768+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:19.5342645Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000059","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.5369961+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000059","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.5399143+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":23.2728,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000059","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.5443900+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000059","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.5484528+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":51.7169,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000059","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"51.7169"}]}}
{"Timestamp":"2025-01-20T00:07:19.5535675+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9e098e48f4988c8956f809b20894859f","SpanId":"e89be9327f64cdad","Properties":{"ElapsedMilliseconds":63.3054,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000059","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.6627627+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000005B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.6708094+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000005B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.6747294+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000005B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.6776240+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000005B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.6809228+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.6867680+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:19.6867570Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.6913443+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.6981303+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:19.6981155Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.7021281+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.7062674+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":20.0099,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000005B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.7087380+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000005B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.7108370+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":40.45,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000005B","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.4500"}]}}
{"Timestamp":"2025-01-20T00:07:19.7132825+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5d99d25c4b200d434a71ec4bc69c133d","SpanId":"48c8ec99da465e97","Properties":{"ElapsedMilliseconds":50.5323,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000005B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.8728183+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000005D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.8831589+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000005D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.8865140+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000005D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.8878805+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000005D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.8900130+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.8955485+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:19.8955372Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.9022143+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.9098351+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:19.9098206Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.9135865+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.9164899+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":21.4748,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000005D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.9205623+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000005D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:19.9243503+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":41.5995,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000005D","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.5995"}]}}
{"Timestamp":"2025-01-20T00:07:19.9296401+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6566b7e0eda4924a932ed5c4a06fe6e3","SpanId":"fab3f860c28ebcf8","Properties":{"ElapsedMilliseconds":56.8149,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000005D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.0757888+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000005F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.0835839+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000005F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.0878117+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000005F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.0910354+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000005F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.0939553+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.0999058+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:20.0998916Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.1053471+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.1110492+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:20.1110356Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.1146168+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000005F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.1185987+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":19.1817,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000005F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.1213067+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000005F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.1235072+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":40.3917,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000005F","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.3917"}]}}
{"Timestamp":"2025-01-20T00:07:20.1272441+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ef6262e84ac89c1d01f6d0d5c66f3513","SpanId":"f6f020d734dcc601","Properties":{"ElapsedMilliseconds":51.4541,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000005F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.2666657+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000061","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.2773160+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000061","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.2825758+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000061","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.2866290+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000061","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.2896039+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000061","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.2925978+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:20.2925902Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000061","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.2955953+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000061","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.3011476+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:20.3011313Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000061","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.3030273+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000061","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.3053674+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":13.0557,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000061","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.3094300+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000061","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.3114598+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":34.6438,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000061","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.6438"}]}}
{"Timestamp":"2025-01-20T00:07:20.3150080+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2fbb907ac32a23b877ee8d6f9d4b063a","SpanId":"e850d4f9ae238e48","Properties":{"ElapsedMilliseconds":48.3635,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000061","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.4566274+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000063","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.4659885+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000063","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.4715341+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000063","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.4752657+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000063","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.4776620+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000063","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.4816898+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:20.4816801Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000063","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.4873908+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000063","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.4931853+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:20.4931743Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000063","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.4973601+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000063","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.5004968+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":19.2638,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000063","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.5057613+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000063","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.5082587+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":42.8769,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000063","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.8769"}]}}
{"Timestamp":"2025-01-20T00:07:20.5132972+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c0bf8d28a2f7850e6255d2223a2a0c56","SpanId":"eb5785669fe5d50e","Properties":{"ElapsedMilliseconds":56.6641,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000063","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.6227831+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000065","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.6291038+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000065","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.6349767+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000065","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.6389969+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000065","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.6411381+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000065","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.6452137+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:20.6452047Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000065","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.6499134+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000065","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.6570926+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:20.6570808Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000065","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.6597893+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000065","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.6628970+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":18.1615,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000065","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.6771516+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000065","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.6792796+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":50.6678,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000065","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"50.6678"}]}}
{"Timestamp":"2025-01-20T00:07:20.6844180+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d8a3dbfc65b7946f9ff5a70e29f1e599","SpanId":"67401105051f03cc","Properties":{"ElapsedMilliseconds":61.6336,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000065","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.8087699+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000067","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.8158308+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000067","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.8209552+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000067","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.8223767+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000067","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.8237382+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000067","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.8268522+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:20.8268423Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000067","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.8310662+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000067","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.8375594+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:20.8375505Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000067","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.8404249+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000067","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.8433930+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":17.0822,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000067","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.8463889+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000067","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.8485408+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":33.2267,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000067","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.2267"}]}}
{"Timestamp":"2025-01-20T00:07:20.8518033+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2ceefbeaa663befb2050f5a2d3e50698","SpanId":"d0f919f1b54db0c1","Properties":{"ElapsedMilliseconds":43.0644,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000067","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.9703127+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000069","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.9770749+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000069","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.9815386+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000069","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.9843129+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000069","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:20.9869552+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000069","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.0013187+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:21.0013028Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000069","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.0103255+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000069","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.0156496+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:21.0156397Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000069","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.0198447+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000069","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.0247995+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":24.1948,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000069","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.0280537+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000069","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.0302826+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":53.634,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000069","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"53.6340"}]}}
{"Timestamp":"2025-01-20T00:07:21.0337103+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8f829d0fdc11112d6033bd49152b47c6","SpanId":"8ab60fb3b143bd89","Properties":{"ElapsedMilliseconds":63.4256,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000069","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.1243880+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000006B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.1314974+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000006B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.1389154+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000006B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.1414084+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000006B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.1436479+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.1478763+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:21.1478659Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.1542153+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.1595060+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:21.1594968Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.1633784+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.1659662+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":18.5522,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000006B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.1689289+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000006B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.1706794+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":39.8013,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000006B","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.8013"}]}}
{"Timestamp":"2025-01-20T00:07:21.1735986+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"663cc65406fd1484a4032b3e65dc4d0a","SpanId":"c69d6b48c0db1d74","Properties":{"ElapsedMilliseconds":49.2244,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000006B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.2985314+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000006D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.3059693+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000006D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.3100771+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000006D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.3122001+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000006D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.3139879+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.3185103+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:21.3184982Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.3253187+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.3318207+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:21.3318070Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.3354730+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.3387143+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":20.8848,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000006D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.3418014+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000006D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.3457717+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":40.2552,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000006D","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.2552"}]}}
{"Timestamp":"2025-01-20T00:07:21.3498002+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9a6ba2bcbe141fe693b65117d55a83ec","SpanId":"6ac107318faac0ee","Properties":{"ElapsedMilliseconds":51.3001,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000006D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.4941218+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000006F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.4996821+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000006F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.5035562+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000006F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.5066581+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000006F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.5094368+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.5160239+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:21.5160135Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.5206804+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.5255426+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:21.5255310Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.5292752+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000006F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.5322621+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":16.7397,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000006F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.5369416+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000006F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.5396996+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":40.3459,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000006F","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"40.3459"}]}}
{"Timestamp":"2025-01-20T00:07:21.5452113+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a4f4ece810c8550297d5fa5f673fe10c","SpanId":"3e605f769aaaf18e","Properties":{"ElapsedMilliseconds":51.1274,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000006F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.7086867+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000071","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.7160087+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000071","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.7227794+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000071","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.7250831+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000071","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.7272748+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000071","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.7312644+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:21.7312524Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000071","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.7359653+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000071","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.7426621+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:21.7426523Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000071","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.7441403+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000071","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.7455100+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":14.7092,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000071","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.7472434+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000071","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:21.7484768+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":33.0933,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000071","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.0933"}]}}
{"Timestamp":"2025-01-20T00:07:21.7518483+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f2d0ee06095cd02a61dd8fefdfcd7cb2","SpanId":"a3ad8ffac7f189d3","Properties":{"ElapsedMilliseconds":43.178,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000071","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:36.8895135+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":116,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000073","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:36.8966017+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000073","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:36.8995337+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000073","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:36.9009715+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000073","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:36.9023575+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000073","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:36.9048926+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:36.9048853Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000073","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:36.9085284+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000073","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:36.9129200+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:36.9129087Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000073","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:36.9151641+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000073","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:36.9177020+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":13.0709,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000073","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:36.9225615+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000073","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:36.9252598+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":28.9407,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000073","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"28.9407"}]}}
{"Timestamp":"2025-01-20T00:07:36.9273494+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4214335a6d18976092a07faccd4a42ca","SpanId":"e0a76c31ba1013db","Properties":{"ElapsedMilliseconds":38.0378,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000073","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:44.2161274+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":114,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000075","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:44.2246213+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000075","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:44.2301230+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000075","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:44.2331203+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000075","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:44.2354166+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000075","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:44.2417337+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:44.2417203Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000075","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:44.2493994+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000075","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:44.2579537+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:44.2579437Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000075","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:44.2616951+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000075","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:44.2654236+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":24.4508,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000075","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:44.2690728+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000075","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:44.2715161+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":47.2859,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000075","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"47.2859"}]}}
{"Timestamp":"2025-01-20T00:07:44.2752826+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6c80cfff0791560ad1da39ab9ee1b760","SpanId":"1ab6567aaec29deb","Properties":{"ElapsedMilliseconds":59.2183,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000075","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:54.0545054+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000077","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:54.0623972+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000077","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:54.0691857+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000077","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:54.0719556+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000077","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:54.0973361+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000077","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:54.1034229+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:54.1034135Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000077","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:54.1089637+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000077","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:54.1160563+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:54.1160406Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000077","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:54.1183877+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000077","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:54.1220829+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":19.1225,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000077","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:54.1256790+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000077","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:54.1280258+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":66.0101,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000077","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"66.0101"}]}}
{"Timestamp":"2025-01-20T00:07:54.1318218+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6292dff5090b534ca82fa1110404d763","SpanId":"ff2775caa36b07af","Properties":{"ElapsedMilliseconds":77.3129,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000077","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:55.2583475+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000079","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:55.2654788+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000079","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:55.2682763+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:00000079","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:55.2695031+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000079","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:55.2707382+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000079","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:55.2753781+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:55.2753700Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000079","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:55.2790386+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000079","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:55.2831149+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:55.2831086Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000079","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:55.2849406+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000079","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:55.2870961+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":12.0622,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000079","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:55.2889057+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000079","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:55.2910204+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":26.0589,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000079","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"26.0589"}]}}
{"Timestamp":"2025-01-20T00:07:55.2947516+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"04baf4cdc1d35f6b17db7730cc75bcdc","SpanId":"24ea2fae554ffc3f","Properties":{"ElapsedMilliseconds":36.412,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000079","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:56.0156912+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000007B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:56.0261578+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000007B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:56.0316212+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OQKL7RJMV:0000007B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:56.0340973+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000007B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:56.0361574+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:56.0405681+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:56.0405566Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:56.0452083+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:56.0515176+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:07:56.0515037Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:56.0538893+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:56.0570613+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":16.9608,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000007B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:56.0606045+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000007B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:07:56.0639411+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":38.3622,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000007B","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"38.3622"}]}}
{"Timestamp":"2025-01-20T00:07:56.0663786+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2a31a4b4e561f50b38ee342b3d8742a7","SpanId":"40d9f4adc8b11ed4","Properties":{"ElapsedMilliseconds":50.7398,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000007B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:52.4025068+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"71deb83933bd64978217553e700b5f0c","SpanId":"0936b2ed5c1c62f4","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000007D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:52.4136027+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"71deb83933bd64978217553e700b5f0c","SpanId":"0936b2ed5c1c62f4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000007D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:52.4153712+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"71deb83933bd64978217553e700b5f0c","SpanId":"0936b2ed5c1c62f4","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:52.4176918+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"71deb83933bd64978217553e700b5f0c","SpanId":"0936b2ed5c1c62f4","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:08:52.4176849Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:52.4208802+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"71deb83933bd64978217553e700b5f0c","SpanId":"0936b2ed5c1c62f4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:52.4233797+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"71deb83933bd64978217553e700b5f0c","SpanId":"0936b2ed5c1c62f4","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:08:52.4233738Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:52.4248721+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"71deb83933bd64978217553e700b5f0c","SpanId":"0936b2ed5c1c62f4","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:52.4265320+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"71deb83933bd64978217553e700b5f0c","SpanId":"0936b2ed5c1c62f4","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":9.1253,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000007D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:52.4338964+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"71deb83933bd64978217553e700b5f0c","SpanId":"0936b2ed5c1c62f4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000007D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:52.4352104+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"71deb83933bd64978217553e700b5f0c","SpanId":"0936b2ed5c1c62f4","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":22.1161,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000007D","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"22.1161"}]}}
{"Timestamp":"2025-01-20T00:08:52.4380632+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"71deb83933bd64978217553e700b5f0c","SpanId":"0936b2ed5c1c62f4","Properties":{"ElapsedMilliseconds":35.5604,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000007D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:53.4133836+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3fd8f38d5633e2e9ed99d10a2f0c0720","SpanId":"898c3632330cd0fe","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000007F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:53.4207573+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3fd8f38d5633e2e9ed99d10a2f0c0720","SpanId":"898c3632330cd0fe","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000007F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:53.4231582+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3fd8f38d5633e2e9ed99d10a2f0c0720","SpanId":"898c3632330cd0fe","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:53.4256640+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"3fd8f38d5633e2e9ed99d10a2f0c0720","SpanId":"898c3632330cd0fe","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:08:53.4256582Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:53.4282203+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3fd8f38d5633e2e9ed99d10a2f0c0720","SpanId":"898c3632330cd0fe","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:53.4301159+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"3fd8f38d5633e2e9ed99d10a2f0c0720","SpanId":"898c3632330cd0fe","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:08:53.4301110Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:53.4329718+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3fd8f38d5633e2e9ed99d10a2f0c0720","SpanId":"898c3632330cd0fe","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:0000007F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:53.4353724+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3fd8f38d5633e2e9ed99d10a2f0c0720","SpanId":"898c3632330cd0fe","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":10.0784,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:0000007F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:53.4367253+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3fd8f38d5633e2e9ed99d10a2f0c0720","SpanId":"898c3632330cd0fe","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:0000007F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:53.4391020+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3fd8f38d5633e2e9ed99d10a2f0c0720","SpanId":"898c3632330cd0fe","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":18.4631,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:0000007F","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"18.4631"}]}}
{"Timestamp":"2025-01-20T00:08:53.4421333+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3fd8f38d5633e2e9ed99d10a2f0c0720","SpanId":"898c3632330cd0fe","Properties":{"ElapsedMilliseconds":28.7934,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:0000007F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:54.0242804+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ece0f1688a6777efb4bfe51fd0cd55af","SpanId":"1a0c7218bc81c85b","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000081","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:54.0300058+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ece0f1688a6777efb4bfe51fd0cd55af","SpanId":"1a0c7218bc81c85b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000081","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:54.0313808+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ece0f1688a6777efb4bfe51fd0cd55af","SpanId":"1a0c7218bc81c85b","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000081","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:54.0339633+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"ece0f1688a6777efb4bfe51fd0cd55af","SpanId":"1a0c7218bc81c85b","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:08:54.0339551Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000081","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:54.0369790+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ece0f1688a6777efb4bfe51fd0cd55af","SpanId":"1a0c7218bc81c85b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000081","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:54.0390873+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"ece0f1688a6777efb4bfe51fd0cd55af","SpanId":"1a0c7218bc81c85b","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:08:54.0390821Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000081","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:54.0404605+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ece0f1688a6777efb4bfe51fd0cd55af","SpanId":"1a0c7218bc81c85b","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000081","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:54.0422828+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ece0f1688a6777efb4bfe51fd0cd55af","SpanId":"1a0c7218bc81c85b","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":8.7502,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000081","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:54.0436067+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ece0f1688a6777efb4bfe51fd0cd55af","SpanId":"1a0c7218bc81c85b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000081","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:54.0446805+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ece0f1688a6777efb4bfe51fd0cd55af","SpanId":"1a0c7218bc81c85b","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":14.7372,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000081","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"14.7372"}]}}
{"Timestamp":"2025-01-20T00:08:54.0465505+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ece0f1688a6777efb4bfe51fd0cd55af","SpanId":"1a0c7218bc81c85b","Properties":{"ElapsedMilliseconds":22.2842,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000081","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:55.0387889+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"70c824d8d25df57f8a2b1a8baa54a91e","SpanId":"ec8f98948f77cebe","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000083","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:55.0422028+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"70c824d8d25df57f8a2b1a8baa54a91e","SpanId":"ec8f98948f77cebe","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000083","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:55.0446922+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"70c824d8d25df57f8a2b1a8baa54a91e","SpanId":"ec8f98948f77cebe","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000083","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:55.0508508+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"70c824d8d25df57f8a2b1a8baa54a91e","SpanId":"ec8f98948f77cebe","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:08:55.0508431Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000083","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:55.0548646+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"70c824d8d25df57f8a2b1a8baa54a91e","SpanId":"ec8f98948f77cebe","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000083","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:55.0577729+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"70c824d8d25df57f8a2b1a8baa54a91e","SpanId":"ec8f98948f77cebe","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:08:55.0577643Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000083","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:55.0611333+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"70c824d8d25df57f8a2b1a8baa54a91e","SpanId":"ec8f98948f77cebe","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000083","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:55.0626441+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"70c824d8d25df57f8a2b1a8baa54a91e","SpanId":"ec8f98948f77cebe","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":12.038,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000083","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:55.0640371+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"70c824d8d25df57f8a2b1a8baa54a91e","SpanId":"ec8f98948f77cebe","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000083","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:55.0651952+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"70c824d8d25df57f8a2b1a8baa54a91e","SpanId":"ec8f98948f77cebe","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":23.0175,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000083","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"23.0175"}]}}
{"Timestamp":"2025-01-20T00:08:55.0674408+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"70c824d8d25df57f8a2b1a8baa54a91e","SpanId":"ec8f98948f77cebe","Properties":{"ElapsedMilliseconds":28.6741,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000083","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:56.3420860+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a2bb07044a79529d072028f8b44745f3","SpanId":"8fcbe25874b833a8","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000085","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:56.3461148+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a2bb07044a79529d072028f8b44745f3","SpanId":"8fcbe25874b833a8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000085","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:56.3474769+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a2bb07044a79529d072028f8b44745f3","SpanId":"8fcbe25874b833a8","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000085","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:56.3498802+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"a2bb07044a79529d072028f8b44745f3","SpanId":"8fcbe25874b833a8","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:08:56.3498728Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000085","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:56.3530152+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a2bb07044a79529d072028f8b44745f3","SpanId":"8fcbe25874b833a8","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000085","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:56.3563450+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"a2bb07044a79529d072028f8b44745f3","SpanId":"8fcbe25874b833a8","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:08:56.3563357Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000085","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:56.3583234+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a2bb07044a79529d072028f8b44745f3","SpanId":"8fcbe25874b833a8","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJMV:00000085","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:56.3602498+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a2bb07044a79529d072028f8b44745f3","SpanId":"8fcbe25874b833a8","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":10.6322,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJMV:00000085","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:56.3619878+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a2bb07044a79529d072028f8b44745f3","SpanId":"8fcbe25874b833a8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJMV:00000085","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:08:56.3635778+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a2bb07044a79529d072028f8b44745f3","SpanId":"8fcbe25874b833a8","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":17.5044,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJMV:00000085","ConnectionId":"0HN9OQKL7RJMV"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"17.5044"}]}}
{"Timestamp":"2025-01-20T00:08:56.3658300+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a2bb07044a79529d072028f8b44745f3","SpanId":"8fcbe25874b833a8","Properties":{"ElapsedMilliseconds":23.7669,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJMV:00000085","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJMV"}}
{"Timestamp":"2025-01-20T00:10:41.0079612+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c00e0d662428b3f85efa578030fc054f","SpanId":"92653d42ae88dcc1","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJN0:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:41.0215947+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c00e0d662428b3f85efa578030fc054f","SpanId":"92653d42ae88dcc1","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJN0:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:41.0240898+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c00e0d662428b3f85efa578030fc054f","SpanId":"92653d42ae88dcc1","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJN0:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:41.0304605+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"c00e0d662428b3f85efa578030fc054f","SpanId":"92653d42ae88dcc1","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:10:41.0304495Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJN0:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:48.8869839+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c00e0d662428b3f85efa578030fc054f","SpanId":"92653d42ae88dcc1","Properties":{"elapsed":"14","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJN0:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:48.8922926+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"c00e0d662428b3f85efa578030fc054f","SpanId":"92653d42ae88dcc1","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:10:48.8922832Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJN0:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:48.8944517+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c00e0d662428b3f85efa578030fc054f","SpanId":"92653d42ae88dcc1","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJN0:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:48.8967971+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c00e0d662428b3f85efa578030fc054f","SpanId":"92653d42ae88dcc1","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":7865.2536,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJN0:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:48.8993688+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c00e0d662428b3f85efa578030fc054f","SpanId":"92653d42ae88dcc1","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJN0:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:48.9007312+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c00e0d662428b3f85efa578030fc054f","SpanId":"92653d42ae88dcc1","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":7877.6097,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJN0:00000001","ConnectionId":"0HN9OQKL7RJN0"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"7877.6097"}]}}
{"Timestamp":"2025-01-20T00:10:48.9033165+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c00e0d662428b3f85efa578030fc054f","SpanId":"92653d42ae88dcc1","Properties":{"ElapsedMilliseconds":7893.7883,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJN0:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:54.4456125+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"495127d2535c0e155c5890e177790544","SpanId":"81971ec380739b5f","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJN0:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:54.4502889+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"495127d2535c0e155c5890e177790544","SpanId":"81971ec380739b5f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJN0:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:54.4516090+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"495127d2535c0e155c5890e177790544","SpanId":"81971ec380739b5f","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJN0:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:54.4546375+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"495127d2535c0e155c5890e177790544","SpanId":"81971ec380739b5f","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:10:54.4546275Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJN0:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:10:58.0527778+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"495127d2535c0e155c5890e177790544","SpanId":"81971ec380739b5f","Properties":{"elapsed":"10","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJN0:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:11:39.4269545+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"495127d2535c0e155c5890e177790544","SpanId":"81971ec380739b5f","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:11:39.4269363Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJN0:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:11:39.4310891+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"495127d2535c0e155c5890e177790544","SpanId":"81971ec380739b5f","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9ba9e6e4-8472-4b1e-8ae6-fd6397e110f3","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQKL7RJN0:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:11:39.4338883+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"495127d2535c0e155c5890e177790544","SpanId":"81971ec380739b5f","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":44970.6502,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQKL7RJN0:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:11:39.4388282+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"495127d2535c0e155c5890e177790544","SpanId":"81971ec380739b5f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQKL7RJN0:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:11:39.4412495+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"495127d2535c0e155c5890e177790544","SpanId":"81971ec380739b5f","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":44981.9233,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQKL7RJN0:00000003","ConnectionId":"0HN9OQKL7RJN0"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"44981.9233"}]}}
{"Timestamp":"2025-01-20T00:11:39.4470470+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"495127d2535c0e155c5890e177790544","SpanId":"81971ec380739b5f","Properties":{"ElapsedMilliseconds":44992.3981,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQKL7RJN0:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQKL7RJN0"}}
{"Timestamp":"2025-01-20T00:18:56.6922161+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:18:56.8814588+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:18:56.8866729+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:18:56.9100019+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:18:56.9141449+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:18:56.9166863+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:19:02.7771964+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2407732b9ce15625e3b896515c61bf54","SpanId":"506fd4f99253d4af","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQT3PEDH1:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQT3PEDH1"}}
{"Timestamp":"2025-01-20T00:19:02.8989151+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2407732b9ce15625e3b896515c61bf54","SpanId":"506fd4f99253d4af","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQT3PEDH1:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQT3PEDH1"}}
{"Timestamp":"2025-01-20T00:19:02.9448953+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2407732b9ce15625e3b896515c61bf54","SpanId":"506fd4f99253d4af","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c2485b4c-8450-46f4-945b-038a0abd4748","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQT3PEDH1:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQT3PEDH1"}}
{"Timestamp":"2025-01-20T00:19:03.1185663+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"2407732b9ce15625e3b896515c61bf54","SpanId":"506fd4f99253d4af","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:19:03.1178387Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c2485b4c-8450-46f4-945b-038a0abd4748","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQT3PEDH1:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQT3PEDH1"}}
{"Timestamp":"2025-01-20T00:19:09.9291827+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2407732b9ce15625e3b896515c61bf54","SpanId":"506fd4f99253d4af","Properties":{"elapsed":"81","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c2485b4c-8450-46f4-945b-038a0abd4748","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQT3PEDH1:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQT3PEDH1"}}
{"Timestamp":"2025-01-20T00:19:09.9852204+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"2407732b9ce15625e3b896515c61bf54","SpanId":"506fd4f99253d4af","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:19:09.9851214Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c2485b4c-8450-46f4-945b-038a0abd4748","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQT3PEDH1:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQT3PEDH1"}}
{"Timestamp":"2025-01-20T00:19:10.0022356+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2407732b9ce15625e3b896515c61bf54","SpanId":"506fd4f99253d4af","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c2485b4c-8450-46f4-945b-038a0abd4748","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQT3PEDH1:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQT3PEDH1"}}
{"Timestamp":"2025-01-20T00:19:10.0382347+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2407732b9ce15625e3b896515c61bf54","SpanId":"506fd4f99253d4af","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":7080.362,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQT3PEDH1:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQT3PEDH1"}}
{"Timestamp":"2025-01-20T00:19:10.0482334+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2407732b9ce15625e3b896515c61bf54","SpanId":"506fd4f99253d4af","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQT3PEDH1:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQT3PEDH1"}}
{"Timestamp":"2025-01-20T00:19:10.0582604+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2407732b9ce15625e3b896515c61bf54","SpanId":"506fd4f99253d4af","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":7219.7389,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQT3PEDH1:00000001","ConnectionId":"0HN9OQT3PEDH1"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"7219.7389"}]}}
{"Timestamp":"2025-01-20T00:19:10.0853410+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2407732b9ce15625e3b896515c61bf54","SpanId":"506fd4f99253d4af","Properties":{"ElapsedMilliseconds":7314.1355,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQT3PEDH1:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQT3PEDH1"}}
{"Timestamp":"2025-01-20T00:19:55.5413820+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:19:55.7245885+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:19:55.7277069+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:19:55.7516335+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:19:55.7549966+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:19:55.7570057+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:19:58.2491432+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3e82baf7a274d3ea6af7f01bbdea6a0f","SpanId":"3647d52405a36385","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:19:58.3090187+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3e82baf7a274d3ea6af7f01bbdea6a0f","SpanId":"3647d52405a36385","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:19:58.3312160+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3e82baf7a274d3ea6af7f01bbdea6a0f","SpanId":"3647d52405a36385","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:19:58.4446378+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"3e82baf7a274d3ea6af7f01bbdea6a0f","SpanId":"3647d52405a36385","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:19:58.4440790Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:19:59.5378037+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e82baf7a274d3ea6af7f01bbdea6a0f","SpanId":"3647d52405a36385","Properties":{"elapsed":"43","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:19:59.5740882+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"3e82baf7a274d3ea6af7f01bbdea6a0f","SpanId":"3647d52405a36385","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:19:59.5740125Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:19:59.5888226+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3e82baf7a274d3ea6af7f01bbdea6a0f","SpanId":"3647d52405a36385","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:19:59.6061581+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3e82baf7a274d3ea6af7f01bbdea6a0f","SpanId":"3647d52405a36385","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":1267.1114,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:19:59.6134328+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3e82baf7a274d3ea6af7f01bbdea6a0f","SpanId":"3647d52405a36385","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:19:59.6196916+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3e82baf7a274d3ea6af7f01bbdea6a0f","SpanId":"3647d52405a36385","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":1339.0604,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:00000001","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1339.0604"}]}}
{"Timestamp":"2025-01-20T00:19:59.6354935+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3e82baf7a274d3ea6af7f01bbdea6a0f","SpanId":"3647d52405a36385","Properties":{"ElapsedMilliseconds":1389.5869,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:00.9275481+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f423ce2991dda88696f5416dc236094","SpanId":"19a938ab69b642a4","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:00.9324949+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1f423ce2991dda88696f5416dc236094","SpanId":"19a938ab69b642a4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:00.9343903+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1f423ce2991dda88696f5416dc236094","SpanId":"19a938ab69b642a4","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:00.9385403+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"1f423ce2991dda88696f5416dc236094","SpanId":"19a938ab69b642a4","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:00.9385156Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.0181407+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f423ce2991dda88696f5416dc236094","SpanId":"19a938ab69b642a4","Properties":{"elapsed":"7","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.0222628+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"1f423ce2991dda88696f5416dc236094","SpanId":"19a938ab69b642a4","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:01.0222450Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.0254517+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1f423ce2991dda88696f5416dc236094","SpanId":"19a938ab69b642a4","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.0285157+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1f423ce2991dda88696f5416dc236094","SpanId":"19a938ab69b642a4","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":91.4632,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.0307098+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1f423ce2991dda88696f5416dc236094","SpanId":"19a938ab69b642a4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.0321151+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1f423ce2991dda88696f5416dc236094","SpanId":"19a938ab69b642a4","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":99.9843,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:00000003","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"99.9843"}]}}
{"Timestamp":"2025-01-20T00:20:01.0347358+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f423ce2991dda88696f5416dc236094","SpanId":"19a938ab69b642a4","Properties":{"ElapsedMilliseconds":107.2982,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.7015752+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"792ca9474d02709dcf70d76eaf18fcde","SpanId":"85e1a9c9901c50c7","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.7088417+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"792ca9474d02709dcf70d76eaf18fcde","SpanId":"85e1a9c9901c50c7","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.7103340+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"792ca9474d02709dcf70d76eaf18fcde","SpanId":"85e1a9c9901c50c7","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.7210793+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"792ca9474d02709dcf70d76eaf18fcde","SpanId":"85e1a9c9901c50c7","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:01.7210359Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.7933605+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"792ca9474d02709dcf70d76eaf18fcde","SpanId":"85e1a9c9901c50c7","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.8016376+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"792ca9474d02709dcf70d76eaf18fcde","SpanId":"85e1a9c9901c50c7","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:01.8016104Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.8033096+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"792ca9474d02709dcf70d76eaf18fcde","SpanId":"85e1a9c9901c50c7","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.8061964+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"792ca9474d02709dcf70d76eaf18fcde","SpanId":"85e1a9c9901c50c7","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":93.6456,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.8083611+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"792ca9474d02709dcf70d76eaf18fcde","SpanId":"85e1a9c9901c50c7","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:01.8109884+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"792ca9474d02709dcf70d76eaf18fcde","SpanId":"85e1a9c9901c50c7","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":104.7811,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:00000005","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"104.7811"}]}}
{"Timestamp":"2025-01-20T00:20:01.8134892+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"792ca9474d02709dcf70d76eaf18fcde","SpanId":"85e1a9c9901c50c7","Properties":{"ElapsedMilliseconds":112.044,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.3203103+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ee03bc29a228b237a2057beacc77e708","SpanId":"c634ce87c494a5a6","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.3279728+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ee03bc29a228b237a2057beacc77e708","SpanId":"c634ce87c494a5a6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.3305536+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ee03bc29a228b237a2057beacc77e708","SpanId":"c634ce87c494a5a6","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.3384782+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"ee03bc29a228b237a2057beacc77e708","SpanId":"c634ce87c494a5a6","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:02.3384469Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.3469634+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ee03bc29a228b237a2057beacc77e708","SpanId":"c634ce87c494a5a6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.3519511+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"ee03bc29a228b237a2057beacc77e708","SpanId":"c634ce87c494a5a6","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:02.3519133Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.3559318+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ee03bc29a228b237a2057beacc77e708","SpanId":"c634ce87c494a5a6","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.3600539+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ee03bc29a228b237a2057beacc77e708","SpanId":"c634ce87c494a5a6","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":23.1001,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.3641480+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ee03bc29a228b237a2057beacc77e708","SpanId":"c634ce87c494a5a6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.3669585+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ee03bc29a228b237a2057beacc77e708","SpanId":"c634ce87c494a5a6","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":39.178,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:00000007","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"39.1780"}]}}
{"Timestamp":"2025-01-20T00:20:02.3710336+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ee03bc29a228b237a2057beacc77e708","SpanId":"c634ce87c494a5a6","Properties":{"ElapsedMilliseconds":50.7161,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000007","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.9014829+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"11b0fe38c4ad3396f33954a19e01ab9f","SpanId":"c47623445dd0b7a6","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.9085206+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"11b0fe38c4ad3396f33954a19e01ab9f","SpanId":"c47623445dd0b7a6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.9109617+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"11b0fe38c4ad3396f33954a19e01ab9f","SpanId":"c47623445dd0b7a6","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.9156706+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"11b0fe38c4ad3396f33954a19e01ab9f","SpanId":"c47623445dd0b7a6","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:02.9156442Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.9214136+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"11b0fe38c4ad3396f33954a19e01ab9f","SpanId":"c47623445dd0b7a6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.9288342+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"11b0fe38c4ad3396f33954a19e01ab9f","SpanId":"c47623445dd0b7a6","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:02.9288005Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.9315242+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"11b0fe38c4ad3396f33954a19e01ab9f","SpanId":"c47623445dd0b7a6","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.9350213+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"11b0fe38c4ad3396f33954a19e01ab9f","SpanId":"c47623445dd0b7a6","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":20.5824,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.9424419+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"11b0fe38c4ad3396f33954a19e01ab9f","SpanId":"c47623445dd0b7a6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:02.9640488+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"11b0fe38c4ad3396f33954a19e01ab9f","SpanId":"c47623445dd0b7a6","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":55.6669,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:00000009","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"55.6669"}]}}
{"Timestamp":"2025-01-20T00:20:02.9743766+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"11b0fe38c4ad3396f33954a19e01ab9f","SpanId":"c47623445dd0b7a6","Properties":{"ElapsedMilliseconds":72.9178,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000009","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.3406402+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8405f5d5afc35328e212d96a4a88d9df","SpanId":"81a367ed2da87a63","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.3482049+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8405f5d5afc35328e212d96a4a88d9df","SpanId":"81a367ed2da87a63","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.3511054+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8405f5d5afc35328e212d96a4a88d9df","SpanId":"81a367ed2da87a63","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.3564785+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"8405f5d5afc35328e212d96a4a88d9df","SpanId":"81a367ed2da87a63","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:03.3564501Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.3620821+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8405f5d5afc35328e212d96a4a88d9df","SpanId":"81a367ed2da87a63","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.3674822+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"8405f5d5afc35328e212d96a4a88d9df","SpanId":"81a367ed2da87a63","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:03.3674468Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.3707651+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8405f5d5afc35328e212d96a4a88d9df","SpanId":"81a367ed2da87a63","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.3749756+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8405f5d5afc35328e212d96a4a88d9df","SpanId":"81a367ed2da87a63","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":19.2017,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.3793955+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8405f5d5afc35328e212d96a4a88d9df","SpanId":"81a367ed2da87a63","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.3815933+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8405f5d5afc35328e212d96a4a88d9df","SpanId":"81a367ed2da87a63","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":33.5151,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:0000000B","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"33.5151"}]}}
{"Timestamp":"2025-01-20T00:20:03.3864263+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8405f5d5afc35328e212d96a4a88d9df","SpanId":"81a367ed2da87a63","Properties":{"ElapsedMilliseconds":45.8119,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:0000000B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.5711111+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c1588dd90b86cb5437cb6f9ed6f2c613","SpanId":"9ce8d2cff5c1fbc2","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.5813247+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c1588dd90b86cb5437cb6f9ed6f2c613","SpanId":"9ce8d2cff5c1fbc2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.5848037+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c1588dd90b86cb5437cb6f9ed6f2c613","SpanId":"9ce8d2cff5c1fbc2","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.5914698+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"c1588dd90b86cb5437cb6f9ed6f2c613","SpanId":"9ce8d2cff5c1fbc2","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:03.5914337Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.5996331+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c1588dd90b86cb5437cb6f9ed6f2c613","SpanId":"9ce8d2cff5c1fbc2","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.6058996+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"c1588dd90b86cb5437cb6f9ed6f2c613","SpanId":"9ce8d2cff5c1fbc2","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:03.6058716Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.6086432+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c1588dd90b86cb5437cb6f9ed6f2c613","SpanId":"9ce8d2cff5c1fbc2","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.6120318+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c1588dd90b86cb5437cb6f9ed6f2c613","SpanId":"9ce8d2cff5c1fbc2","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":21.7536,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.6150867+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c1588dd90b86cb5437cb6f9ed6f2c613","SpanId":"9ce8d2cff5c1fbc2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.6177026+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c1588dd90b86cb5437cb6f9ed6f2c613","SpanId":"9ce8d2cff5c1fbc2","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":36.5708,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:0000000D","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"36.5708"}]}}
{"Timestamp":"2025-01-20T00:20:03.6202091+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c1588dd90b86cb5437cb6f9ed6f2c613","SpanId":"9ce8d2cff5c1fbc2","Properties":{"ElapsedMilliseconds":49.1396,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.7453439+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6579b1923b307b1ec8c83363089b07a5","SpanId":"40a28739c7fb88ed","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.7496644+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6579b1923b307b1ec8c83363089b07a5","SpanId":"40a28739c7fb88ed","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.7511429+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6579b1923b307b1ec8c83363089b07a5","SpanId":"40a28739c7fb88ed","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.7544086+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"6579b1923b307b1ec8c83363089b07a5","SpanId":"40a28739c7fb88ed","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:03.7543900Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.7582042+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6579b1923b307b1ec8c83363089b07a5","SpanId":"40a28739c7fb88ed","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.7644388+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"6579b1923b307b1ec8c83363089b07a5","SpanId":"40a28739c7fb88ed","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:03.7644004Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.7673011+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6579b1923b307b1ec8c83363089b07a5","SpanId":"40a28739c7fb88ed","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.7690219+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6579b1923b307b1ec8c83363089b07a5","SpanId":"40a28739c7fb88ed","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":15.29,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.7708704+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6579b1923b307b1ec8c83363089b07a5","SpanId":"40a28739c7fb88ed","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:03.7736129+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6579b1923b307b1ec8c83363089b07a5","SpanId":"40a28739c7fb88ed","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":24.0421,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:0000000F","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"24.0421"}]}}
{"Timestamp":"2025-01-20T00:20:03.7771818+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6579b1923b307b1ec8c83363089b07a5","SpanId":"40a28739c7fb88ed","Properties":{"ElapsedMilliseconds":31.8975,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:0000000F","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:04.1535219+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fe4bf1d5dc47f15839c201f3ab2df819","SpanId":"082e71315117a25e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":112,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:04.1603484+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fe4bf1d5dc47f15839c201f3ab2df819","SpanId":"082e71315117a25e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:04.1637955+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fe4bf1d5dc47f15839c201f3ab2df819","SpanId":"082e71315117a25e","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:04.1688569+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"fe4bf1d5dc47f15839c201f3ab2df819","SpanId":"082e71315117a25e","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:04.1688284Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:04.1938330+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fe4bf1d5dc47f15839c201f3ab2df819","SpanId":"082e71315117a25e","Properties":{"elapsed":"19","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:04.2022097+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"fe4bf1d5dc47f15839c201f3ab2df819","SpanId":"082e71315117a25e","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:04.2021805Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:04.2055098+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fe4bf1d5dc47f15839c201f3ab2df819","SpanId":"082e71315117a25e","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:04.2091215+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fe4bf1d5dc47f15839c201f3ab2df819","SpanId":"082e71315117a25e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":41.291,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:04.2124256+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fe4bf1d5dc47f15839c201f3ab2df819","SpanId":"082e71315117a25e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:04.2159103+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fe4bf1d5dc47f15839c201f3ab2df819","SpanId":"082e71315117a25e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":55.6704,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:00000011","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"55.6704"}]}}
{"Timestamp":"2025-01-20T00:20:04.2224023+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fe4bf1d5dc47f15839c201f3ab2df819","SpanId":"082e71315117a25e","Properties":{"ElapsedMilliseconds":68.84,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000011","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:23.1727053+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"7d19680742864d913408f03296725963","SpanId":"531dd42c685c163a","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":122,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:23.1792782+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"7d19680742864d913408f03296725963","SpanId":"531dd42c685c163a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:23.1832885+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"7d19680742864d913408f03296725963","SpanId":"531dd42c685c163a","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:23.1876408+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"7d19680742864d913408f03296725963","SpanId":"531dd42c685c163a","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:23.1876184Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:23.1931799+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"7d19680742864d913408f03296725963","SpanId":"531dd42c685c163a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:23.1999085+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"7d19680742864d913408f03296725963","SpanId":"531dd42c685c163a","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:23.1998745Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:23.2024307+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"7d19680742864d913408f03296725963","SpanId":"531dd42c685c163a","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:23.2052565+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"7d19680742864d913408f03296725963","SpanId":"531dd42c685c163a","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":18.4995,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:23.2197019+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"7d19680742864d913408f03296725963","SpanId":"531dd42c685c163a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:23.2219075+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"7d19680742864d913408f03296725963","SpanId":"531dd42c685c163a","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":42.7828,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:00000013","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"42.7828"}]}}
{"Timestamp":"2025-01-20T00:20:23.2271004+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"7d19680742864d913408f03296725963","SpanId":"531dd42c685c163a","Properties":{"ElapsedMilliseconds":54.464,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000013","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:35.0782342+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3c1babe44350fc8ff4cdbedade6bfc98","SpanId":"125b24378a7edb47","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":131,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:35.0840785+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3c1babe44350fc8ff4cdbedade6bfc98","SpanId":"125b24378a7edb47","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:35.0867776+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3c1babe44350fc8ff4cdbedade6bfc98","SpanId":"125b24378a7edb47","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:35.0909233+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"3c1babe44350fc8ff4cdbedade6bfc98","SpanId":"125b24378a7edb47","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:35.0909069Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:35.0967308+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3c1babe44350fc8ff4cdbedade6bfc98","SpanId":"125b24378a7edb47","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:35.1019471+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"3c1babe44350fc8ff4cdbedade6bfc98","SpanId":"125b24378a7edb47","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:35.1019231Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:35.1054800+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3c1babe44350fc8ff4cdbedade6bfc98","SpanId":"125b24378a7edb47","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:35.1080109+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3c1babe44350fc8ff4cdbedade6bfc98","SpanId":"125b24378a7edb47","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":17.6171,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:35.1105921+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3c1babe44350fc8ff4cdbedade6bfc98","SpanId":"125b24378a7edb47","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:35.1134911+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3c1babe44350fc8ff4cdbedade6bfc98","SpanId":"125b24378a7edb47","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":29.5184,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:00000015","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.5184"}]}}
{"Timestamp":"2025-01-20T00:20:35.1182829+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3c1babe44350fc8ff4cdbedade6bfc98","SpanId":"125b24378a7edb47","Properties":{"ElapsedMilliseconds":39.9729,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000015","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:47.1610333+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"252d3fa23d1b5335adb46a29a7088eb5","SpanId":"bfaa917afbb409f2","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":134,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:47.1676523+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"252d3fa23d1b5335adb46a29a7088eb5","SpanId":"bfaa917afbb409f2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:47.1699672+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"252d3fa23d1b5335adb46a29a7088eb5","SpanId":"bfaa917afbb409f2","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:47.1747254+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"252d3fa23d1b5335adb46a29a7088eb5","SpanId":"bfaa917afbb409f2","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:47.1746987Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:47.1800959+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"252d3fa23d1b5335adb46a29a7088eb5","SpanId":"bfaa917afbb409f2","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:47.1875185+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"252d3fa23d1b5335adb46a29a7088eb5","SpanId":"bfaa917afbb409f2","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:47.1875000Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:47.1913227+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"252d3fa23d1b5335adb46a29a7088eb5","SpanId":"bfaa917afbb409f2","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:47.1932066+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"252d3fa23d1b5335adb46a29a7088eb5","SpanId":"bfaa917afbb409f2","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":19.4468,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:47.1949702+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"252d3fa23d1b5335adb46a29a7088eb5","SpanId":"bfaa917afbb409f2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:47.1967532+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"252d3fa23d1b5335adb46a29a7088eb5","SpanId":"bfaa917afbb409f2","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":29.2485,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:00000017","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"29.2485"}]}}
{"Timestamp":"2025-01-20T00:20:47.1987854+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"252d3fa23d1b5335adb46a29a7088eb5","SpanId":"bfaa917afbb409f2","Properties":{"ElapsedMilliseconds":37.8107,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000017","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:48.7758703+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f0ddbd07bc5a398aa0db450ff76cbe77","SpanId":"3a90c1032efc8f33","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":134,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:48.7831466+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f0ddbd07bc5a398aa0db450ff76cbe77","SpanId":"3a90c1032efc8f33","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:48.7860374+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f0ddbd07bc5a398aa0db450ff76cbe77","SpanId":"3a90c1032efc8f33","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:48.7889489+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"f0ddbd07bc5a398aa0db450ff76cbe77","SpanId":"3a90c1032efc8f33","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:48.7889307Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:48.7928091+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f0ddbd07bc5a398aa0db450ff76cbe77","SpanId":"3a90c1032efc8f33","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:48.7996365+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"f0ddbd07bc5a398aa0db450ff76cbe77","SpanId":"3a90c1032efc8f33","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:48.7995976Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:48.8022543+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f0ddbd07bc5a398aa0db450ff76cbe77","SpanId":"3a90c1032efc8f33","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:48.8045550+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f0ddbd07bc5a398aa0db450ff76cbe77","SpanId":"3a90c1032efc8f33","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":16.1902,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:48.8063639+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f0ddbd07bc5a398aa0db450ff76cbe77","SpanId":"3a90c1032efc8f33","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:48.8084731+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f0ddbd07bc5a398aa0db450ff76cbe77","SpanId":"3a90c1032efc8f33","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":25.4222,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:00000019","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.4222"}]}}
{"Timestamp":"2025-01-20T00:20:48.8114875+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f0ddbd07bc5a398aa0db450ff76cbe77","SpanId":"3a90c1032efc8f33","Properties":{"ElapsedMilliseconds":35.6639,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:00000019","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:53.5446946+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a2e5445c61fa582c3f204d674a1617db","SpanId":"390454088487968e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":135,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:53.5545060+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a2e5445c61fa582c3f204d674a1617db","SpanId":"390454088487968e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:53.5575985+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a2e5445c61fa582c3f204d674a1617db","SpanId":"390454088487968e","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:53.5622962+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"a2e5445c61fa582c3f204d674a1617db","SpanId":"390454088487968e","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:53.5622793Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:53.5688546+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a2e5445c61fa582c3f204d674a1617db","SpanId":"390454088487968e","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:53.5732561+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"a2e5445c61fa582c3f204d674a1617db","SpanId":"390454088487968e","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:20:53.5732095Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:53.5753328+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a2e5445c61fa582c3f204d674a1617db","SpanId":"390454088487968e","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:53.5769093+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a2e5445c61fa582c3f204d674a1617db","SpanId":"390454088487968e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":15.144,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQTKAUL2O:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:53.5786422+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a2e5445c61fa582c3f204d674a1617db","SpanId":"390454088487968e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:20:53.5799693+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a2e5445c61fa582c3f204d674a1617db","SpanId":"390454088487968e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":25.5794,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQTKAUL2O:0000001B","ConnectionId":"0HN9OQTKAUL2O"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25.5794"}]}}
{"Timestamp":"2025-01-20T00:20:53.5826122+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a2e5445c61fa582c3f204d674a1617db","SpanId":"390454088487968e","Properties":{"ElapsedMilliseconds":37.9281,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:0000001B","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:21:10.7525016+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"50223408ed40181bf29d2d45ca364257","SpanId":"8a772a37c846c85f","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":133,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQTKAUL2O:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:21:10.7586962+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"50223408ed40181bf29d2d45ca364257","SpanId":"8a772a37c846c85f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQTKAUL2O:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:21:10.7610097+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"50223408ed40181bf29d2d45ca364257","SpanId":"8a772a37c846c85f","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:21:10.7656620+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"50223408ed40181bf29d2d45ca364257","SpanId":"8a772a37c846c85f","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:21:10.7656357Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:21:10.7711950+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"50223408ed40181bf29d2d45ca364257","SpanId":"8a772a37c846c85f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:21:11.1356957+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"50223408ed40181bf29d2d45ca364257","SpanId":"8a772a37c846c85f","Properties":{"elapsed":"13","parameters":"@__roleName_0='?' (Size = 30)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [r].[Id], [r].[Name]\r\nFROM [Roles] AS [r]\r\nWHERE [r].[Name] = @__roleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"48cf803d-cd6a-4ad8-a711-1db7213aea25","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQTKAUL2O:0000001D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQTKAUL2O"}}
{"Timestamp":"2025-01-20T00:22:03.6855402+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:22:03.8287928+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:22:03.8326242+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:22:03.8559759+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:22:03.8577366+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:22:03.8604411+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:22:05.6353756+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":133,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQUQ9PH8N:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:05.6956871+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQUQ9PH8N:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:05.7175603+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:05.8178271+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:22:05.8171456Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:06.8567724+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"elapsed":"34","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:07.0241866+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"elapsed":"11","parameters":"@__roleName_0='?' (Size = 30)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [r].[Id], [r].[Name]\r\nFROM [Roles] AS [r]\r\nWHERE [r].[Name] = @__roleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:07.4145332+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"elapsed":"12","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 128), @p5='?' (DbType = Boolean), @p6='?' (Size = 50), @p7='?' (Size = 11), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [Users] ([Id], [CreatedOn], [Email], [FirstName], [HashedPassword], [IsDeleted], [LastName], [PhoneNumber])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);\r\nINSERT INTO [UserRoles] ([RoleId], [UserId])\r\nVALUES (@p8, @p9);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:07.4341844+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:22:07.4341191Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:07.4425465+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"StatusCode":204,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:07.4480759+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":1722.8469,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQUQ9PH8N:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:07.4512806+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQUQ9PH8N:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:07.4561516+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":204,"Elapsed":1789.9771,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQUQ9PH8N:00000001","ConnectionId":"0HN9OQUQ9PH8N"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1789.9771"}]}}
{"Timestamp":"2025-01-20T00:22:07.4675348+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ce7c6d3eae2192cd492dc2f453a70b8c","SpanId":"558f880e4fad3ab2","Properties":{"ElapsedMilliseconds":1835.2001,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQUQ9PH8N:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:51.5077134+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"907e785e0f19d7479a7936009958d1e3","SpanId":"23f34a91b8cd216c","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":133,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQUQ9PH8N:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:51.5529243+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"907e785e0f19d7479a7936009958d1e3","SpanId":"23f34a91b8cd216c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQUQ9PH8N:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:51.5867354+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"907e785e0f19d7479a7936009958d1e3","SpanId":"23f34a91b8cd216c","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:51.5939935+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"907e785e0f19d7479a7936009958d1e3","SpanId":"23f34a91b8cd216c","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:22:51.5939252Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:51.6395734+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"907e785e0f19d7479a7936009958d1e3","SpanId":"23f34a91b8cd216c","Properties":{"elapsed":"25","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:51.6570038+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"907e785e0f19d7479a7936009958d1e3","SpanId":"23f34a91b8cd216c","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:22:51.6569563Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:51.6661868+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"907e785e0f19d7479a7936009958d1e3","SpanId":"23f34a91b8cd216c","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:51.6825761+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"907e785e0f19d7479a7936009958d1e3","SpanId":"23f34a91b8cd216c","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":91.9086,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQUQ9PH8N:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:51.6873344+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"907e785e0f19d7479a7936009958d1e3","SpanId":"23f34a91b8cd216c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQUQ9PH8N:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:22:51.6906922+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"907e785e0f19d7479a7936009958d1e3","SpanId":"23f34a91b8cd216c","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":167.5876,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQUQ9PH8N:00000003","ConnectionId":"0HN9OQUQ9PH8N"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"167.5876"}]}}
{"Timestamp":"2025-01-20T00:22:51.6939208+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"907e785e0f19d7479a7936009958d1e3","SpanId":"23f34a91b8cd216c","Properties":{"ElapsedMilliseconds":187.038,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQUQ9PH8N:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:03.3641990+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":134,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQUQ9PH8N:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:03.3740955+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQUQ9PH8N:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:03.3763141+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:03.3978281+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:23:03.3977490Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:03.5042003+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:03.5138510+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"elapsed":"4","parameters":"@__roleName_0='?' (Size = 30)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [r].[Id], [r].[Name]\r\nFROM [Roles] AS [r]\r\nWHERE [r].[Name] = @__roleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:03.8983489+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (Size = 128), @p5='?' (DbType = Boolean), @p6='?' (Size = 50), @p7='?' (Size = 11), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [Users] ([Id], [CreatedOn], [Email], [FirstName], [HashedPassword], [IsDeleted], [LastName], [PhoneNumber])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);\r\nINSERT INTO [UserRoles] ([RoleId], [UserId])\r\nVALUES (@p8, @p9);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:03.9217679+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:23:03.9217271Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:03.9252567+02:00","Level":"Information","MessageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"StatusCode":204,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"383c003c-4548-4709-b925-188b878b8f95","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:03.9290619+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":548.4342,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQUQ9PH8N:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:03.9328217+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQUQ9PH8N:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:03.9351895+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":204,"Elapsed":564.9321,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQUQ9PH8N:00000005","ConnectionId":"0HN9OQUQ9PH8N"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"564.9321"}]}}
{"Timestamp":"2025-01-20T00:23:03.9391949+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"684b9929a864ed4e0f220a245b789c9d","SpanId":"b66f9b0159ee3dea","Properties":{"ElapsedMilliseconds":575.1882,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQUQ9PH8N:00000005","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:59.3168147+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3bc4dd7ecabbd0f8eb804cf1573207a6","SpanId":"35d887ae5a9cbcc5","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":35,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQUQ9PH8N:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:59.3641711+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3bc4dd7ecabbd0f8eb804cf1573207a6","SpanId":"35d887ae5a9cbcc5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQUQ9PH8N:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:59.3740935+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3bc4dd7ecabbd0f8eb804cf1573207a6","SpanId":"35d887ae5a9cbcc5","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbebd05d-f9fa-42c7-90e3-36efbdd531f8","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:59.3920455+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"3bc4dd7ecabbd0f8eb804cf1573207a6","SpanId":"35d887ae5a9cbcc5","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:23:59.3918663Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"cbebd05d-f9fa-42c7-90e3-36efbdd531f8","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:59.5194110+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3bc4dd7ecabbd0f8eb804cf1573207a6","SpanId":"35d887ae5a9cbcc5","Properties":{"elapsed":"4","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbebd05d-f9fa-42c7-90e3-36efbdd531f8","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:59.5259405+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"3bc4dd7ecabbd0f8eb804cf1573207a6","SpanId":"35d887ae5a9cbcc5","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:23:59.5258759Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"cbebd05d-f9fa-42c7-90e3-36efbdd531f8","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:59.5301174+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3bc4dd7ecabbd0f8eb804cf1573207a6","SpanId":"35d887ae5a9cbcc5","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbebd05d-f9fa-42c7-90e3-36efbdd531f8","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:59.5384287+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3bc4dd7ecabbd0f8eb804cf1573207a6","SpanId":"35d887ae5a9cbcc5","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":159.4158,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQUQ9PH8N:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:59.5419928+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3bc4dd7ecabbd0f8eb804cf1573207a6","SpanId":"35d887ae5a9cbcc5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQUQ9PH8N:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:23:59.5439361+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3bc4dd7ecabbd0f8eb804cf1573207a6","SpanId":"35d887ae5a9cbcc5","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":180.0184,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQUQ9PH8N:00000007","ConnectionId":"0HN9OQUQ9PH8N"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"180.0184"}]}}
{"Timestamp":"2025-01-20T00:23:59.5471544+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3bc4dd7ecabbd0f8eb804cf1573207a6","SpanId":"35d887ae5a9cbcc5","Properties":{"ElapsedMilliseconds":230.4136,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQUQ9PH8N:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:24:05.3845256+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4f2cc854cab6789dd901d5b753cb7c80","SpanId":"9f6d90a1f9f036f2","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":35,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQUQ9PH8N:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:24:05.3886803+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4f2cc854cab6789dd901d5b753cb7c80","SpanId":"9f6d90a1f9f036f2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQUQ9PH8N:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:24:05.3899547+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4f2cc854cab6789dd901d5b753cb7c80","SpanId":"9f6d90a1f9f036f2","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cbebd05d-f9fa-42c7-90e3-36efbdd531f8","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:24:05.3937692+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"4f2cc854cab6789dd901d5b753cb7c80","SpanId":"9f6d90a1f9f036f2","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:24:05.3937465Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"cbebd05d-f9fa-42c7-90e3-36efbdd531f8","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:24:05.4157067+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4f2cc854cab6789dd901d5b753cb7c80","SpanId":"9f6d90a1f9f036f2","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cbebd05d-f9fa-42c7-90e3-36efbdd531f8","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:24:05.4218470+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"4f2cc854cab6789dd901d5b753cb7c80","SpanId":"9f6d90a1f9f036f2","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:24:05.4218192Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"cbebd05d-f9fa-42c7-90e3-36efbdd531f8","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:24:05.4237193+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4f2cc854cab6789dd901d5b753cb7c80","SpanId":"9f6d90a1f9f036f2","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cbebd05d-f9fa-42c7-90e3-36efbdd531f8","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OQUQ9PH8N:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:24:05.4254659+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4f2cc854cab6789dd901d5b753cb7c80","SpanId":"9f6d90a1f9f036f2","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":33.0241,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OQUQ9PH8N:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:24:05.4283183+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4f2cc854cab6789dd901d5b753cb7c80","SpanId":"9f6d90a1f9f036f2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OQUQ9PH8N:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:24:05.4296261+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4f2cc854cab6789dd901d5b753cb7c80","SpanId":"9f6d90a1f9f036f2","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":41.0514,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OQUQ9PH8N:00000009","ConnectionId":"0HN9OQUQ9PH8N"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"41.0514"}]}}
{"Timestamp":"2025-01-20T00:24:05.4313816+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4f2cc854cab6789dd901d5b753cb7c80","SpanId":"9f6d90a1f9f036f2","Properties":{"ElapsedMilliseconds":47.0149,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OQUQ9PH8N:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OQUQ9PH8N"}}
{"Timestamp":"2025-01-20T00:28:11.9194308+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:28:12.0756309+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:28:12.0790821+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:28:12.1124847+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:28:12.1140932+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:28:12.1152936+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:28:26.8784629+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2fe5d8775abfc2587758eac989ae9397","SpanId":"2bd3f145d35d1b8c","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":128,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR2BSR9IU:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:27.0069445+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2fe5d8775abfc2587758eac989ae9397","SpanId":"2bd3f145d35d1b8c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR2BSR9IU:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:27.0599576+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2fe5d8775abfc2587758eac989ae9397","SpanId":"2bd3f145d35d1b8c","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0fd10f38-d6d2-42e8-bebd-b910b8e5a717","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2BSR9IU:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:27.2950135+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"2fe5d8775abfc2587758eac989ae9397","SpanId":"2bd3f145d35d1b8c","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:28:27.2942748Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"0fd10f38-d6d2-42e8-bebd-b910b8e5a717","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2BSR9IU:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:29.7100556+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2fe5d8775abfc2587758eac989ae9397","SpanId":"2bd3f145d35d1b8c","Properties":{"elapsed":"61","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0fd10f38-d6d2-42e8-bebd-b910b8e5a717","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2BSR9IU:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:29.7702652+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"2fe5d8775abfc2587758eac989ae9397","SpanId":"2bd3f145d35d1b8c","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:28:29.7700811Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"0fd10f38-d6d2-42e8-bebd-b910b8e5a717","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2BSR9IU:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:29.7845148+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2fe5d8775abfc2587758eac989ae9397","SpanId":"2bd3f145d35d1b8c","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0fd10f38-d6d2-42e8-bebd-b910b8e5a717","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2BSR9IU:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:29.8201419+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2fe5d8775abfc2587758eac989ae9397","SpanId":"2bd3f145d35d1b8c","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":2746.4639,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OR2BSR9IU:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:29.8297567+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2fe5d8775abfc2587758eac989ae9397","SpanId":"2bd3f145d35d1b8c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR2BSR9IU:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:29.8393156+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2fe5d8775abfc2587758eac989ae9397","SpanId":"2bd3f145d35d1b8c","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":2894.9348,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR2BSR9IU:00000001","ConnectionId":"0HN9OR2BSR9IU"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2894.9348"}]}}
{"Timestamp":"2025-01-20T00:28:29.8675455+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2fe5d8775abfc2587758eac989ae9397","SpanId":"2bd3f145d35d1b8c","Properties":{"ElapsedMilliseconds":2998.0891,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR2BSR9IU:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:44.7546595+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9576a507a2427542c6bff46eff310960","SpanId":"ba44614f88f3cebe","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":128,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR2BSR9IU:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:44.7655417+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9576a507a2427542c6bff46eff310960","SpanId":"ba44614f88f3cebe","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR2BSR9IU:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:44.7684588+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9576a507a2427542c6bff46eff310960","SpanId":"ba44614f88f3cebe","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"0fd10f38-d6d2-42e8-bebd-b910b8e5a717","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2BSR9IU:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:44.7783372+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"9576a507a2427542c6bff46eff310960","SpanId":"ba44614f88f3cebe","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:28:44.7782686Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"0fd10f38-d6d2-42e8-bebd-b910b8e5a717","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2BSR9IU:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:44.8300051+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9576a507a2427542c6bff46eff310960","SpanId":"ba44614f88f3cebe","Properties":{"elapsed":"10","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"0fd10f38-d6d2-42e8-bebd-b910b8e5a717","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2BSR9IU:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:44.8385879+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"9576a507a2427542c6bff46eff310960","SpanId":"ba44614f88f3cebe","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:28:44.8385528Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"0fd10f38-d6d2-42e8-bebd-b910b8e5a717","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2BSR9IU:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:44.8425289+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9576a507a2427542c6bff46eff310960","SpanId":"ba44614f88f3cebe","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"0fd10f38-d6d2-42e8-bebd-b910b8e5a717","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2BSR9IU:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:44.8486729+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9576a507a2427542c6bff46eff310960","SpanId":"ba44614f88f3cebe","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":75.2256,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OR2BSR9IU:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:44.8535900+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9576a507a2427542c6bff46eff310960","SpanId":"ba44614f88f3cebe","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR2BSR9IU:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:28:44.8569045+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9576a507a2427542c6bff46eff310960","SpanId":"ba44614f88f3cebe","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":92.2567,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR2BSR9IU:00000003","ConnectionId":"0HN9OR2BSR9IU"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"92.2567"}]}}
{"Timestamp":"2025-01-20T00:28:44.8606954+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9576a507a2427542c6bff46eff310960","SpanId":"ba44614f88f3cebe","Properties":{"ElapsedMilliseconds":106.3465,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR2BSR9IU:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2BSR9IU"}}
{"Timestamp":"2025-01-20T00:29:19.3366238+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:29:19.5121584+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:29:19.5160186+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:29:19.5397916+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:29:19.5424189+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:29:19.5448879+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:29:24.8070063+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e66ee0cf1c0d02d17e564afa2165d87a","SpanId":"c7459ebc954e22bd","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":128,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR2T6481J:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:24.8697534+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e66ee0cf1c0d02d17e564afa2165d87a","SpanId":"c7459ebc954e22bd","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR2T6481J:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:24.8938979+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e66ee0cf1c0d02d17e564afa2165d87a","SpanId":"c7459ebc954e22bd","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"326015fb-b825-4fda-bf87-e9831dc42ede","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2T6481J:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:24.9898816+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"e66ee0cf1c0d02d17e564afa2165d87a","SpanId":"c7459ebc954e22bd","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:29:24.9894983Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"326015fb-b825-4fda-bf87-e9831dc42ede","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2T6481J:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:27.1277658+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e66ee0cf1c0d02d17e564afa2165d87a","SpanId":"c7459ebc954e22bd","Properties":{"elapsed":"66","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"326015fb-b825-4fda-bf87-e9831dc42ede","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2T6481J:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:27.1752785+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"e66ee0cf1c0d02d17e564afa2165d87a","SpanId":"c7459ebc954e22bd","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:29:27.1751771Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"326015fb-b825-4fda-bf87-e9831dc42ede","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2T6481J:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:27.1887489+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e66ee0cf1c0d02d17e564afa2165d87a","SpanId":"c7459ebc954e22bd","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"326015fb-b825-4fda-bf87-e9831dc42ede","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2T6481J:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:27.2249727+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e66ee0cf1c0d02d17e564afa2165d87a","SpanId":"c7459ebc954e22bd","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":2319.5354,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OR2T6481J:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:27.2355352+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e66ee0cf1c0d02d17e564afa2165d87a","SpanId":"c7459ebc954e22bd","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR2T6481J:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:27.2433125+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e66ee0cf1c0d02d17e564afa2165d87a","SpanId":"c7459ebc954e22bd","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":2402.3646,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR2T6481J:00000001","ConnectionId":"0HN9OR2T6481J"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2402.3646"}]}}
{"Timestamp":"2025-01-20T00:29:27.2691170+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e66ee0cf1c0d02d17e564afa2165d87a","SpanId":"c7459ebc954e22bd","Properties":{"ElapsedMilliseconds":2464.3979,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR2T6481J:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:35.9098160+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"20da609443ab852cae28c2f295e879c4","SpanId":"ce8cdb6186c3d46b","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":194,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR2T6481J:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:35.9235513+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"20da609443ab852cae28c2f295e879c4","SpanId":"ce8cdb6186c3d46b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR2T6481J:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:35.9276360+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"20da609443ab852cae28c2f295e879c4","SpanId":"ce8cdb6186c3d46b","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"326015fb-b825-4fda-bf87-e9831dc42ede","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2T6481J:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:35.9373266+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"20da609443ab852cae28c2f295e879c4","SpanId":"ce8cdb6186c3d46b","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:29:35.9372746Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"326015fb-b825-4fda-bf87-e9831dc42ede","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2T6481J:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:36.0439343+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"20da609443ab852cae28c2f295e879c4","SpanId":"ce8cdb6186c3d46b","Properties":{"elapsed":"12","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"326015fb-b825-4fda-bf87-e9831dc42ede","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2T6481J:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:36.0520583+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"20da609443ab852cae28c2f295e879c4","SpanId":"ce8cdb6186c3d46b","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:29:36.0520023Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"326015fb-b825-4fda-bf87-e9831dc42ede","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2T6481J:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:36.0555970+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"20da609443ab852cae28c2f295e879c4","SpanId":"ce8cdb6186c3d46b","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"326015fb-b825-4fda-bf87-e9831dc42ede","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR2T6481J:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:36.0591880+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"20da609443ab852cae28c2f295e879c4","SpanId":"ce8cdb6186c3d46b","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":125.0443,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OR2T6481J:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:36.0636249+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"20da609443ab852cae28c2f295e879c4","SpanId":"ce8cdb6186c3d46b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR2T6481J:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:29:36.0669334+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"20da609443ab852cae28c2f295e879c4","SpanId":"ce8cdb6186c3d46b","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":144.2928,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR2T6481J:00000003","ConnectionId":"0HN9OR2T6481J"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"144.2928"}]}}
{"Timestamp":"2025-01-20T00:29:36.0719256+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"20da609443ab852cae28c2f295e879c4","SpanId":"ce8cdb6186c3d46b","Properties":{"ElapsedMilliseconds":162.2499,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR2T6481J:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR2T6481J"}}
{"Timestamp":"2025-01-20T00:30:09.3654601+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:30:09.5309836+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:30:09.5343319+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:30:09.5564678+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:30:09.5594486+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:30:09.5618331+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:30:15.9207392+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2ab027fb2a255e9b27bcac0b94b422ec","SpanId":"1ff2c1afb160699a","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":193,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR3CCM76K:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR3CCM76K"}}
{"Timestamp":"2025-01-20T00:30:16.0544771+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2ab027fb2a255e9b27bcac0b94b422ec","SpanId":"1ff2c1afb160699a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR3CCM76K:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR3CCM76K"}}
{"Timestamp":"2025-01-20T00:30:16.1239632+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2ab027fb2a255e9b27bcac0b94b422ec","SpanId":"1ff2c1afb160699a","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6ff59d5-9326-4bd5-8e6d-405005bc3b13","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR3CCM76K:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR3CCM76K"}}
{"Timestamp":"2025-01-20T00:30:16.3749986+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"2ab027fb2a255e9b27bcac0b94b422ec","SpanId":"1ff2c1afb160699a","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:30:16.3742083Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"a6ff59d5-9326-4bd5-8e6d-405005bc3b13","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR3CCM76K:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR3CCM76K"}}
{"Timestamp":"2025-01-20T00:30:18.9108541+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2ab027fb2a255e9b27bcac0b94b422ec","SpanId":"1ff2c1afb160699a","Properties":{"elapsed":"79","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Users] AS [u]\r\n        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6ff59d5-9326-4bd5-8e6d-405005bc3b13","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR3CCM76K:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR3CCM76K"}}
{"Timestamp":"2025-01-20T00:30:18.9760025+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"2ab027fb2a255e9b27bcac0b94b422ec","SpanId":"1ff2c1afb160699a","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:30:18.9758906Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"a6ff59d5-9326-4bd5-8e6d-405005bc3b13","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR3CCM76K:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR3CCM76K"}}
{"Timestamp":"2025-01-20T00:30:18.9928888+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2ab027fb2a255e9b27bcac0b94b422ec","SpanId":"1ff2c1afb160699a","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6ff59d5-9326-4bd5-8e6d-405005bc3b13","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR3CCM76K:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR3CCM76K"}}
{"Timestamp":"2025-01-20T00:30:19.0227224+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2ab027fb2a255e9b27bcac0b94b422ec","SpanId":"1ff2c1afb160699a","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":2888.1492,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OR3CCM76K:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR3CCM76K"}}
{"Timestamp":"2025-01-20T00:30:19.0293832+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2ab027fb2a255e9b27bcac0b94b422ec","SpanId":"1ff2c1afb160699a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR3CCM76K:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR3CCM76K"}}
{"Timestamp":"2025-01-20T00:30:19.0350520+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2ab027fb2a255e9b27bcac0b94b422ec","SpanId":"1ff2c1afb160699a","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":3046.0848,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR3CCM76K:00000001","ConnectionId":"0HN9OR3CCM76K"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3046.0848"}]}}
{"Timestamp":"2025-01-20T00:30:19.0529201+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2ab027fb2a255e9b27bcac0b94b422ec","SpanId":"1ff2c1afb160699a","Properties":{"ElapsedMilliseconds":3145.0391,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR3CCM76K:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR3CCM76K"}}
{"Timestamp":"2025-01-20T00:39:24.1035775+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:39:24.2460257+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:39:24.2495290+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:39:24.2710506+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:39:24.2740787+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:39:24.2762308+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:39:25.1090596+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8c5e5ee5a9d5bc1b5d3c4e31a178aafc","SpanId":"1a8a7a7f6cbd580b","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":193,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:25.2035987+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8c5e5ee5a9d5bc1b5d3c4e31a178aafc","SpanId":"1a8a7a7f6cbd580b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR8G300JP:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:25.2256502+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8c5e5ee5a9d5bc1b5d3c4e31a178aafc","SpanId":"1a8a7a7f6cbd580b","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"92a73a19-c9a8-4935-ae2a-99821c7b5493","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR8G300JP:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:25.3181407+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"8c5e5ee5a9d5bc1b5d3c4e31a178aafc","SpanId":"1a8a7a7f6cbd580b","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:39:25.3177052Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"92a73a19-c9a8-4935-ae2a-99821c7b5493","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR8G300JP:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:25.3470215+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"8c5e5ee5a9d5bc1b5d3c4e31a178aafc","SpanId":"1a8a7a7f6cbd580b","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:39:25.3469465Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"92a73a19-c9a8-4935-ae2a-99821c7b5493","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR8G300JP:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:25.3543921+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8c5e5ee5a9d5bc1b5d3c4e31a178aafc","SpanId":"1a8a7a7f6cbd580b","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"92a73a19-c9a8-4935-ae2a-99821c7b5493","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR8G300JP:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:25.3722640+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8c5e5ee5a9d5bc1b5d3c4e31a178aafc","SpanId":"1a8a7a7f6cbd580b","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":138.0565,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OR8G300JP:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:25.3773531+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8c5e5ee5a9d5bc1b5d3c4e31a178aafc","SpanId":"1a8a7a7f6cbd580b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR8G300JP:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:25.3813442+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8c5e5ee5a9d5bc1b5d3c4e31a178aafc","SpanId":"1a8a7a7f6cbd580b","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":240.4578,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR8G300JP:00000001","ConnectionId":"0HN9OR8G300JP"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"240.4578"}]}}
{"Timestamp":"2025-01-20T00:39:25.3894706+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8c5e5ee5a9d5bc1b5d3c4e31a178aafc","SpanId":"1a8a7a7f6cbd580b","Properties":{"ElapsedMilliseconds":283.5768,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:00000001","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:26.5526875+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6e982e7f5058c2501141882064b4202b","SpanId":"52b73ad2eb409377","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":193,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:26.5592075+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6e982e7f5058c2501141882064b4202b","SpanId":"52b73ad2eb409377","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR8G300JP:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:26.5614115+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6e982e7f5058c2501141882064b4202b","SpanId":"52b73ad2eb409377","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"92a73a19-c9a8-4935-ae2a-99821c7b5493","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR8G300JP:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:26.5687010+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"6e982e7f5058c2501141882064b4202b","SpanId":"52b73ad2eb409377","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:39:26.5686687Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"92a73a19-c9a8-4935-ae2a-99821c7b5493","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR8G300JP:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:26.5708097+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"6e982e7f5058c2501141882064b4202b","SpanId":"52b73ad2eb409377","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:39:26.5707932Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"92a73a19-c9a8-4935-ae2a-99821c7b5493","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR8G300JP:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:26.5733420+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6e982e7f5058c2501141882064b4202b","SpanId":"52b73ad2eb409377","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"92a73a19-c9a8-4935-ae2a-99821c7b5493","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR8G300JP:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:26.5764367+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6e982e7f5058c2501141882064b4202b","SpanId":"52b73ad2eb409377","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":12.8305,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OR8G300JP:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:26.5787026+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6e982e7f5058c2501141882064b4202b","SpanId":"52b73ad2eb409377","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR8G300JP:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:26.5801775+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6e982e7f5058c2501141882064b4202b","SpanId":"52b73ad2eb409377","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":21.3111,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR8G300JP:00000003","ConnectionId":"0HN9OR8G300JP"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.3111"}]}}
{"Timestamp":"2025-01-20T00:39:26.5834292+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6e982e7f5058c2501141882064b4202b","SpanId":"52b73ad2eb409377","Properties":{"ElapsedMilliseconds":30.8149,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:00000003","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.0147650+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5ca3859eda9e6859cd9561ea35dc365e","SpanId":"530afaf336def292","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/scalar/v1","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:00000005","RequestPath":"/scalar/v1","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.0902221+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"5ca3859eda9e6859cd9561ea35dc365e","SpanId":"530afaf336def292","Properties":{"EndpointName":"HTTP: GET /scalar/{documentName}","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR8G300JP:00000005","RequestPath":"/scalar/v1","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.1019116+02:00","Level":"Information","MessageTemplate":"Write content with HTTP Response ContentType of {ContentType}","TraceId":"5ca3859eda9e6859cd9561ea35dc365e","SpanId":"530afaf336def292","Properties":{"ContentType":"text/html","EventId":{"Id":2,"Name":"WritingResultAsContent"},"SourceContext":"Microsoft.AspNetCore.Http.Result.ContentResult","RequestId":"0HN9OR8G300JP:00000005","RequestPath":"/scalar/v1","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.1074780+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"5ca3859eda9e6859cd9561ea35dc365e","SpanId":"530afaf336def292","Properties":{"EndpointName":"HTTP: GET /scalar/{documentName}","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR8G300JP:00000005","RequestPath":"/scalar/v1","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.1097976+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"5ca3859eda9e6859cd9561ea35dc365e","SpanId":"530afaf336def292","Properties":{"RequestMethod":"GET","RequestPath":"/scalar/v1","StatusCode":200,"Elapsed":21.0081,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR8G300JP:00000005","ConnectionId":"0HN9OR8G300JP"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"21.0081"}]}}
{"Timestamp":"2025-01-20T00:39:29.1142762+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5ca3859eda9e6859cd9561ea35dc365e","SpanId":"530afaf336def292","Properties":{"ElapsedMilliseconds":99.4719,"StatusCode":200,"ContentType":"text/html","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/scalar/v1","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:00000005","RequestPath":"/scalar/v1","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.1409215+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"5a48d00fdbef3c4a07381b138ba6771e","SpanId":"db59f8d43657ee4c","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:00000007","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.1409876+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"36a983f9be7d39c1ea2b80ed8da32680","SpanId":"4a14f6484742f28a","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:00000009","RequestPath":"/_vs/browserLink","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.1581791+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"5a48d00fdbef3c4a07381b138ba6771e","SpanId":"db59f8d43657ee4c","Properties":{"ElapsedMilliseconds":17.2675,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13770,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:00000007","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.1784737+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"36a983f9be7d39c1ea2b80ed8da32680","SpanId":"4a14f6484742f28a","Properties":{"ElapsedMilliseconds":37.4362,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:00000009","RequestPath":"/_vs/browserLink","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.2899744+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"53d9bc6ca99085304363d7e5fc136811","SpanId":"71920622f30eb319","Properties":{"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/openapi/v1.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:0000000B","RequestPath":"/openapi/v1.json","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.2948342+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"53d9bc6ca99085304363d7e5fc136811","SpanId":"71920622f30eb319","Properties":{"EndpointName":"HTTP: GET /openapi/{documentName}.json","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR8G300JP:0000000B","RequestPath":"/openapi/v1.json","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.3897760+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"53d9bc6ca99085304363d7e5fc136811","SpanId":"71920622f30eb319","Properties":{"EndpointName":"HTTP: GET /openapi/{documentName}.json","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR8G300JP:0000000B","RequestPath":"/openapi/v1.json","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:29.3931815+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"53d9bc6ca99085304363d7e5fc136811","SpanId":"71920622f30eb319","Properties":{"RequestMethod":"GET","RequestPath":"/openapi/v1.json","StatusCode":200,"Elapsed":98.4345,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR8G300JP:0000000B","ConnectionId":"0HN9OR8G300JP"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"98.4345"}]}}
{"Timestamp":"2025-01-20T00:39:29.3980777+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"53d9bc6ca99085304363d7e5fc136811","SpanId":"71920622f30eb319","Properties":{"ElapsedMilliseconds":108.0808,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/openapi/v1.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:0000000B","RequestPath":"/openapi/v1.json","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:39.6519895+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e63649c9038d6a53ce37e6ae10de3b8b","SpanId":"b4847ce24b7cb8b7","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":93,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:39.6806148+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e63649c9038d6a53ce37e6ae10de3b8b","SpanId":"b4847ce24b7cb8b7","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OR8G300JP:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:39.6897374+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e63649c9038d6a53ce37e6ae10de3b8b","SpanId":"b4847ce24b7cb8b7","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OR8G300JP:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:39.6922004+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e63649c9038d6a53ce37e6ae10de3b8b","SpanId":"b4847ce24b7cb8b7","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR8G300JP:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:39.6992022+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e63649c9038d6a53ce37e6ae10de3b8b","SpanId":"b4847ce24b7cb8b7","Properties":{"RouteData":"{action = \"Register\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(RegisterCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"92a73a19-c9a8-4935-ae2a-99821c7b5493","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR8G300JP:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:39.7160968+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"e63649c9038d6a53ce37e6ae10de3b8b","SpanId":"b4847ce24b7cb8b7","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:39:39.7160366Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"92a73a19-c9a8-4935-ae2a-99821c7b5493","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR8G300JP:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:39.7214801+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"e63649c9038d6a53ce37e6ae10de3b8b","SpanId":"b4847ce24b7cb8b7","Properties":{"RequestName":"RegisterCommand","DateTimeUtc":"2025-01-19T22:39:39.7214403Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"92a73a19-c9a8-4935-ae2a-99821c7b5493","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR8G300JP:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:39.7242202+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e63649c9038d6a53ce37e6ae10de3b8b","SpanId":"b4847ce24b7cb8b7","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[MediatR.Unit, MediatR.Contracts, Version=2.0.1.0, Culture=neutral, PublicKeyToken=bb9a41a5e8aaa7e2]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"92a73a19-c9a8-4935-ae2a-99821c7b5493","ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","RequestId":"0HN9OR8G300JP:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:39.7271876+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e63649c9038d6a53ce37e6ae10de3b8b","SpanId":"b4847ce24b7cb8b7","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Register (Store.Api)","ElapsedMilliseconds":24.5716,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OR8G300JP:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:39.7301903+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e63649c9038d6a53ce37e6ae10de3b8b","SpanId":"b4847ce24b7cb8b7","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Register (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR8G300JP:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:39:39.7322705+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e63649c9038d6a53ce37e6ae10de3b8b","SpanId":"b4847ce24b7cb8b7","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Register","StatusCode":400,"Elapsed":72.0968,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR8G300JP:0000000D","ConnectionId":"0HN9OR8G300JP"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"72.0968"}]}}
{"Timestamp":"2025-01-20T00:39:39.7368983+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e63649c9038d6a53ce37e6ae10de3b8b","SpanId":"b4847ce24b7cb8b7","Properties":{"ElapsedMilliseconds":84.934,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Register","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JP:0000000D","RequestPath":"/api/auth/Register","ConnectionId":"0HN9OR8G300JP"}}
{"Timestamp":"2025-01-20T00:40:01.7073359+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":35,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JQ:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR8G300JQ"}}
{"Timestamp":"2025-01-20T00:40:01.7173460+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OR8G300JQ:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR8G300JQ"}}
{"Timestamp":"2025-01-20T00:40:01.7230250+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OR8G300JQ:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR8G300JQ"}}
{"Timestamp":"2025-01-20T00:40:01.7259275+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR8G300JQ:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR8G300JQ"}}
{"Timestamp":"2025-01-20T00:40:01.7388571+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"d64af1e9-6e0e-4366-885a-352b2cb0f0af","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR8G300JQ:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR8G300JQ"}}
{"Timestamp":"2025-01-20T00:40:01.7619779+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:40:01.7616652Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"d64af1e9-6e0e-4366-885a-352b2cb0f0af","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR8G300JQ:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR8G300JQ"}}
{"Timestamp":"2025-01-20T00:40:04.4056448+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Properties":{"elapsed":"77","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d64af1e9-6e0e-4366-885a-352b2cb0f0af","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR8G300JQ:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR8G300JQ"}}
{"Timestamp":"2025-01-20T00:40:04.4602613+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:40:04.4601737Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"d64af1e9-6e0e-4366-885a-352b2cb0f0af","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR8G300JQ:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR8G300JQ"}}
{"Timestamp":"2025-01-20T00:40:04.4678530+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"d64af1e9-6e0e-4366-885a-352b2cb0f0af","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR8G300JQ:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR8G300JQ"}}
{"Timestamp":"2025-01-20T00:40:04.4755251+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":2730.7127,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OR8G300JQ:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR8G300JQ"}}
{"Timestamp":"2025-01-20T00:40:04.4778378+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR8G300JQ:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR8G300JQ"}}
{"Timestamp":"2025-01-20T00:40:04.4794657+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":2762.5352,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR8G300JQ:00000001","ConnectionId":"0HN9OR8G300JQ"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2762.5352"}]}}
{"Timestamp":"2025-01-20T00:40:04.4905329+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dab5549b34b079d2f9b7f6c7b678b4a1","SpanId":"cd47cd74d8c6d486","Properties":{"ElapsedMilliseconds":2782.8442,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR8G300JQ:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR8G300JQ"}}
{"Timestamp":"2025-01-20T00:40:43.9007622+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:40:44.0650577+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:40:44.0699211+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:40:44.0971886+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:40:44.0997267+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:40:44.1015705+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:40:45.1216626+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":35,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR97U30H9:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:45.1863260+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OR97U30H9:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:45.1914598+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OR97U30H9:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:45.1960895+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR97U30H9:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:45.2148532+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"75c509c3-3072-4e7b-b79b-96b0409b1124","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR97U30H9:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:45.3087196+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:40:45.3082518Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"75c509c3-3072-4e7b-b79b-96b0409b1124","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR97U30H9:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:46.4232018+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Properties":{"elapsed":"44","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"75c509c3-3072-4e7b-b79b-96b0409b1124","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR97U30H9:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:46.4582247+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:40:46.4581296Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"75c509c3-3072-4e7b-b79b-96b0409b1124","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR97U30H9:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:46.4681835+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"75c509c3-3072-4e7b-b79b-96b0409b1124","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR97U30H9:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:46.4804979+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":1255.3546,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OR97U30H9:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:46.4864363+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR97U30H9:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:46.4907387+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":1337.5976,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR97U30H9:00000001","ConnectionId":"0HN9OR97U30H9"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1337.5976"}]}}
{"Timestamp":"2025-01-20T00:40:46.5049813+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"289bdbbe06543bcf9b67c5eef23067c0","SpanId":"4181ab9cd46692c6","Properties":{"ElapsedMilliseconds":1386.222,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR97U30H9:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:49.8686269+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":35,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR97U30H9:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:49.8795562+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OR97U30H9:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:49.8850205+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OR97U30H9:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:49.8884143+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR97U30H9:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:49.8911212+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"75c509c3-3072-4e7b-b79b-96b0409b1124","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR97U30H9:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:49.8995551+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:40:49.8994880Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"75c509c3-3072-4e7b-b79b-96b0409b1124","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR97U30H9:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:49.9793765+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Properties":{"elapsed":"4","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"75c509c3-3072-4e7b-b79b-96b0409b1124","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR97U30H9:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:49.9880937+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:40:49.9880464Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"75c509c3-3072-4e7b-b79b-96b0409b1124","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR97U30H9:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:49.9917985+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"75c509c3-3072-4e7b-b79b-96b0409b1124","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OR97U30H9:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:49.9972559+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":102.4971,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OR97U30H9:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:50.0001603+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OR97U30H9:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:40:50.0024047+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":124.4009,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OR97U30H9:00000003","ConnectionId":"0HN9OR97U30H9"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"124.4009"}]}}
{"Timestamp":"2025-01-20T00:40:50.0078154+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"87adddef70c5e08ac6b21194fdef2423","SpanId":"0c202fd9e943588b","Properties":{"ElapsedMilliseconds":139.2897,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OR97U30H9:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OR97U30H9"}}
{"Timestamp":"2025-01-20T00:43:46.3667780+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:43:46.5453559+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:43:46.5494553+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:43:46.5750538+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:43:46.5768968+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:43:46.5782676+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:43:48.6224996+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"284c460832ea965812ebf558fabd45fa","SpanId":"6b83d5a8b99466d9","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":35,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:48.6868923+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"284c460832ea965812ebf558fabd45fa","SpanId":"6b83d5a8b99466d9","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:48.6921891+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"284c460832ea965812ebf558fabd45fa","SpanId":"6b83d5a8b99466d9","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:48.6963620+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"284c460832ea965812ebf558fabd45fa","SpanId":"6b83d5a8b99466d9","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:48.7169344+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"284c460832ea965812ebf558fabd45fa","SpanId":"6b83d5a8b99466d9","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:48.8078962+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"284c460832ea965812ebf558fabd45fa","SpanId":"6b83d5a8b99466d9","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:43:48.8073083Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:48.8296097+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"284c460832ea965812ebf558fabd45fa","SpanId":"6b83d5a8b99466d9","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:43:48.8295460Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:48.8352383+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"284c460832ea965812ebf558fabd45fa","SpanId":"6b83d5a8b99466d9","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:48.8427653+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"284c460832ea965812ebf558fabd45fa","SpanId":"6b83d5a8b99466d9","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":118.7332,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:48.8477096+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"284c460832ea965812ebf558fabd45fa","SpanId":"6b83d5a8b99466d9","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:48.8505522+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"284c460832ea965812ebf558fabd45fa","SpanId":"6b83d5a8b99466d9","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":197.8496,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000001","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"197.8496"}]}}
{"Timestamp":"2025-01-20T00:43:48.8554481+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"284c460832ea965812ebf558fabd45fa","SpanId":"6b83d5a8b99466d9","Properties":{"ElapsedMilliseconds":236.5873,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:50.0175429+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f96487b2933b0d5063d83a5b3c51f43e","SpanId":"65b0bff8746aac19","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":35,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:50.0232605+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"f96487b2933b0d5063d83a5b3c51f43e","SpanId":"65b0bff8746aac19","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:50.0285233+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"f96487b2933b0d5063d83a5b3c51f43e","SpanId":"65b0bff8746aac19","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:50.0303360+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f96487b2933b0d5063d83a5b3c51f43e","SpanId":"65b0bff8746aac19","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:50.0324859+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f96487b2933b0d5063d83a5b3c51f43e","SpanId":"65b0bff8746aac19","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:50.0409158+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"f96487b2933b0d5063d83a5b3c51f43e","SpanId":"65b0bff8746aac19","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:43:50.0408693Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:50.0431681+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"f96487b2933b0d5063d83a5b3c51f43e","SpanId":"65b0bff8746aac19","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:43:50.0431532Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:50.0448337+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f96487b2933b0d5063d83a5b3c51f43e","SpanId":"65b0bff8746aac19","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:50.0466118+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f96487b2933b0d5063d83a5b3c51f43e","SpanId":"65b0bff8746aac19","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":11.3513,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:50.0498569+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f96487b2933b0d5063d83a5b3c51f43e","SpanId":"65b0bff8746aac19","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:50.0526982+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f96487b2933b0d5063d83a5b3c51f43e","SpanId":"65b0bff8746aac19","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":30.0757,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000003","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"30.0757"}]}}
{"Timestamp":"2025-01-20T00:43:50.0582353+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f96487b2933b0d5063d83a5b3c51f43e","SpanId":"65b0bff8746aac19","Properties":{"ElapsedMilliseconds":40.7227,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:53.7243648+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"81d370d9e9c0a41185aa0d20106ced24","SpanId":"931d6a86330191f8","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":39,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:53.7348981+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"81d370d9e9c0a41185aa0d20106ced24","SpanId":"931d6a86330191f8","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:53.7401070+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"81d370d9e9c0a41185aa0d20106ced24","SpanId":"931d6a86330191f8","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:53.7431254+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"81d370d9e9c0a41185aa0d20106ced24","SpanId":"931d6a86330191f8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:53.7454950+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"81d370d9e9c0a41185aa0d20106ced24","SpanId":"931d6a86330191f8","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:53.7645282+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"81d370d9e9c0a41185aa0d20106ced24","SpanId":"931d6a86330191f8","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:43:53.7644505Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:53.7690975+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"81d370d9e9c0a41185aa0d20106ced24","SpanId":"931d6a86330191f8","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:43:53.7690701Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:53.7718687+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"81d370d9e9c0a41185aa0d20106ced24","SpanId":"931d6a86330191f8","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:53.7750249+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"81d370d9e9c0a41185aa0d20106ced24","SpanId":"931d6a86330191f8","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":24.7292,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:53.7799378+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"81d370d9e9c0a41185aa0d20106ced24","SpanId":"931d6a86330191f8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:43:53.7839303+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"81d370d9e9c0a41185aa0d20106ced24","SpanId":"931d6a86330191f8","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":53.2693,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000005","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"53.2693"}]}}
{"Timestamp":"2025-01-20T00:43:53.7879389+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"81d370d9e9c0a41185aa0d20106ced24","SpanId":"931d6a86330191f8","Properties":{"ElapsedMilliseconds":63.5964,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:04.6562682+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dcb81562cda893a314688e41189aa011","SpanId":"6e5f84d2b574716b","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":49,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:04.6641792+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"dcb81562cda893a314688e41189aa011","SpanId":"6e5f84d2b574716b","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:04.6681250+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"dcb81562cda893a314688e41189aa011","SpanId":"6e5f84d2b574716b","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:04.6705022+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dcb81562cda893a314688e41189aa011","SpanId":"6e5f84d2b574716b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:04.6727728+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dcb81562cda893a314688e41189aa011","SpanId":"6e5f84d2b574716b","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:04.6784252+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"dcb81562cda893a314688e41189aa011","SpanId":"6e5f84d2b574716b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:04.6783618Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:04.6826290+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"dcb81562cda893a314688e41189aa011","SpanId":"6e5f84d2b574716b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:04.6825845Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:04.6854915+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dcb81562cda893a314688e41189aa011","SpanId":"6e5f84d2b574716b","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:04.6886171+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dcb81562cda893a314688e41189aa011","SpanId":"6e5f84d2b574716b","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":11.2676,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:04.6952415+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dcb81562cda893a314688e41189aa011","SpanId":"6e5f84d2b574716b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:04.6980382+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dcb81562cda893a314688e41189aa011","SpanId":"6e5f84d2b574716b","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":34.4557,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000007","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"34.4557"}]}}
{"Timestamp":"2025-01-20T00:44:04.7030943+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dcb81562cda893a314688e41189aa011","SpanId":"6e5f84d2b574716b","Properties":{"ElapsedMilliseconds":46.9181,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:08.7504720+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":51,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:08.7586562+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:08.7656183+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:08.7682280+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:08.7706258+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:08.7752342+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:08.7752053Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:11.3946565+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"elapsed":"69","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:11.5763700+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"elapsed":"31","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:12.1624456+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:12.1624135Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:12.1682636+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:12.1720476+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":3397.3914,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:12.1749949+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:12.1791209+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":3420.6798,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000009","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"3420.6798"}]}}
{"Timestamp":"2025-01-20T00:44:12.1898430+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e90a875bbc5ae6806f25f8bab12ada2f","SpanId":"56931f04fa07192e","Properties":{"ElapsedMilliseconds":3439.0929,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:15.9805134+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":51,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:15.9882593+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:15.9928670+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:15.9975535+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:16.0003579+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:16.0054108+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:16.0053807Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:16.0333165+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"elapsed":"3","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:16.0421866+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:16.4109417+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:16.4109132Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:16.4142058+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:16.4158094+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":411.7427,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:16.4177424+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:16.4194230+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":431.6919,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000000B","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"431.6919"}]}}
{"Timestamp":"2025-01-20T00:44:16.4244285+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9aa461e3aa0bcbfd5e6796c050bd7b9d","SpanId":"7da5003d5da0aa2d","Properties":{"ElapsedMilliseconds":443.9121,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.1675371+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":51,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.1779795+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.1828858+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.1864400+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.1902239+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.1952430+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:17.1952122Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.2806550+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.2898391+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.5102111+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:17.5101823Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.5142428+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.5161787+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":321.9179,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.5192464+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:17.5210358+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":343.6955,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000000D","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"343.6955"}]}}
{"Timestamp":"2025-01-20T00:44:17.5241363+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"44e6d12262e4380351196e7837bbf2d4","SpanId":"4f20a5fdc73f97ef","Properties":{"ElapsedMilliseconds":356.6561,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.1490388+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":51,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.1570912+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.1631644+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.1664359+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.1701713+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.1769558+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:18.1769161Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.1906236+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"elapsed":"7","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.2105852+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"elapsed":"12","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.4110622+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:18.4110359Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.4135477+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.4172891+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":241.3029,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.4196524+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.4222076+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":265.857,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000000F","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"265.8570"}]}}
{"Timestamp":"2025-01-20T00:44:18.4275216+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d7c8f3d88b0a421ca171016f37f57daa","SpanId":"16b35e9ba999725e","Properties":{"ElapsedMilliseconds":278.3213,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.8720734+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":51,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.8827782+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.8884178+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.8916335+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.8958114+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.9024814+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:18.9024476Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.9137019+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:18.9306385+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"elapsed":"9","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.1346668+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:19.1346428Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.1377467+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.1396138+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":238.1789,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.1416513+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.1444591+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":262.3401,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000011","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"262.3401"}]}}
{"Timestamp":"2025-01-20T00:44:19.1485512+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"02cfb36965d61d627dce525755ffec6c","SpanId":"e5e6a5a47e8fa195","Properties":{"ElapsedMilliseconds":276.7647,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.5424318+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":51,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.5535032+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.5604863+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.5646647+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.5683957+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.5766609+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:19.5766264Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.5905122+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"elapsed":"7","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.6074900+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"elapsed":"9","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.8069000+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:19.8068721Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.8101323+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.8137488+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":238.1396,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.8160855+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:19.8193917+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":266.5361,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000013","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"266.5361"}]}}
{"Timestamp":"2025-01-20T00:44:19.8248737+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cfab99caa7e9da7e32937d881d6e6285","SpanId":"80edeb188470cdff","Properties":{"ElapsedMilliseconds":282.4238,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.1817298+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":51,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.1876706+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.1920871+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.1966273+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.1995464+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.2039960+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:20.2039696Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.2140553+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.2255724+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.4277277+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:20.4277042Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.4299488+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.4325623+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":229.4199,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.4355912+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.4370385+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":250.1086,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000015","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"250.1086"}]}}
{"Timestamp":"2025-01-20T00:44:20.4401923+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"de01c6176624fc034a324d4907354b0e","SpanId":"ac606507918d83c6","Properties":{"ElapsedMilliseconds":258.486,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.8219320+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":51,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.8335974+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.8435850+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.8509317+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.8558055+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.8612685+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:20.8612463Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.8753740+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"elapsed":"7","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:20.8945814+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"elapsed":"12","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:21.0948380+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:21.0948151Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:21.0980714+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:21.1018609+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":241.5931,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:21.1058597+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:21.1083809+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":400,"Elapsed":275.7163,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000017","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"275.7163"}]}}
{"Timestamp":"2025-01-20T00:44:21.1139954+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"bca5c34f017d29bb4e785eaaa94a5eb7","SpanId":"4122ab8d3e5f50cd","Properties":{"ElapsedMilliseconds":292.0816,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.3041076+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.3109126+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.3194906+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.3221107+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.3243843+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.3285898+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:29.3285729Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.3378334+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"elapsed":"7","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.3543547+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"elapsed":"9","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.5719085+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.5770200+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.8253875+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.8454244+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:29.8453831Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.8492321+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.8534142+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":525.5447,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.8554234+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:29.8571504+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":546.824,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000019","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"546.8240"}]}}
{"Timestamp":"2025-01-20T00:44:29.8601839+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3e9c23208fcc3b640b78cace3064adf4","SpanId":"021816b3944f8466","Properties":{"ElapsedMilliseconds":556.0562,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.5927675+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.6025345+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.6069356+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.6103815+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.6135775+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.6185358+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:44.6185134Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.6240227+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.6326984+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.8344720+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.8431034+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.8666385+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.8731655+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:44.8731419Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.8762565+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.8802106+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":262.6609,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.8846801+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:44.8866829+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":284.5616,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000001B","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"284.5616"}]}}
{"Timestamp":"2025-01-20T00:44:44.8922292+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"effead5bc161868c88c307fa703f2a09","SpanId":"52b3395b0812b6a4","Properties":{"ElapsedMilliseconds":299.446,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:45.8478846+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:45.8601190+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:45.8653942+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:45.8691225+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:45.8724432+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:45.8783004+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:45.8782708Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:45.8845721+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:45.8915327+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.1060014+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.1135305+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.1341209+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.1400287+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:46.1399949Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.1442690+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.1489888+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":271.4787,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.1527186+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.1552709+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":295.7867,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000001D","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"295.7867"}]}}
{"Timestamp":"2025-01-20T00:44:46.1587403+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"046e5a602834e16000b3982eacc9a102","SpanId":"b70105630c89f693","Properties":{"ElapsedMilliseconds":310.8435,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.7667379+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.7732646+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.7776152+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.7810113+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.7831859+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.7871839+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:46.7871497Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.7928952+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.7990462+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:46.9927095+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.0001943+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.0200552+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.0235288+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:47.0235096Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.0268328+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.0316587+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":245.2586,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.0360368+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.0383557+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":265.5927,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000001F","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"265.5927"}]}}
{"Timestamp":"2025-01-20T00:44:47.0419091+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e5ccf73a573ec9a2e98c744434d58122","SpanId":"7b22b720a7d5bde4","Properties":{"ElapsedMilliseconds":275.1832,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.5031174+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.5116455+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.5168873+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.5194695+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.5215092+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.5244887+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:47.5244719Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.5296228+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.5358950+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.7290733+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.7371827+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.7469136+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.7540099+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:47.7539872Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.7575666+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.7606126+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":236.6845,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.7639844+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:47.7655683+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":254.4147,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000021","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"254.4147"}]}}
{"Timestamp":"2025-01-20T00:44:47.7693479+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4143f23c39f311448fee064110f1281e","SpanId":"beb172b8e65b18b1","Properties":{"ElapsedMilliseconds":266.2681,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.1081848+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.1165713+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.1220671+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.1245609+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.1271520+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.1329338+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:48.1329117Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.1386725+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.1476532+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.3493435+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.3543504+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.3752836+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"elapsed":"16","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.3826877+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:48.3826647Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.3850993+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.3880585+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":255.7643,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.3909493+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.3936336+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":277.5423,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000023","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"277.5423"}]}}
{"Timestamp":"2025-01-20T00:44:48.4000171+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c0c4213d40481f1aaa1b99f1dbf00a2b","SpanId":"4f43c026533f71d8","Properties":{"ElapsedMilliseconds":291.8061,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.4489715+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.4534477+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.4557506+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.4572151+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.4598467+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.4638661+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:48.4638505Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.4676122+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.4733965+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.6793539+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.6977457+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"elapsed":"11","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.7123922+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.7176585+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:48.7176400Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.7194312+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.7215026+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":258.1893,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.7244558+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.7261229+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":273.042,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000025","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"273.0420"}]}}
{"Timestamp":"2025-01-20T00:44:48.7289146+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"19d4e892c7fcf5b7a5ab20f613216d54","SpanId":"2d787d6c9772958b","Properties":{"ElapsedMilliseconds":279.9395,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.9728544+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:48.9945635+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.0018456+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.0033908+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.0044777+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.0074995+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:49.0074833Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.0167258+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.0292814+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"elapsed":"7","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.2514292+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"elapsed":"5","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.2646171+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"elapsed":"8","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.2928066+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"elapsed":"18","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.3014818+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:49.3014512Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.3064600+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.3116252+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":304.5726,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.3153582+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.3188353+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":325.0108,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000027","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"325.0108"}]}}
{"Timestamp":"2025-01-20T00:44:49.3237035+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"da0067a61ab4eb586a1c219c24ba1c04","SpanId":"303fa479e4e1eb25","Properties":{"ElapsedMilliseconds":350.8208,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.6130223+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.6191106+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.6230033+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.6249339+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.6281412+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.6325376+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:49.6325141Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.6420807+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"elapsed":"5","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.6581283+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"elapsed":"9","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.8622404+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.8947349+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"elapsed":"24","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.9355002+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"elapsed":"31","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.9453041+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:49.9452768Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.9508819+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.9544868+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":322.7841,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.9566542+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:49.9587075+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":340.0477,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000029","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"340.0477"}]}}
{"Timestamp":"2025-01-20T00:44:49.9617939+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cf6fc8efd4f14e981651d7b624e0521d","SpanId":"a6d457c0e393fd2e","Properties":{"ElapsedMilliseconds":348.8072,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.3497755+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.3587248+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.3662509+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.3721872+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.3772498+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.3886482+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:50.3886198Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.4019994+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.4143365+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.6087530+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"elapsed":"4","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.6219632+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"elapsed":"9","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.6329247+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.6376652+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:50.6376484Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.6398014+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.6419610+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":254.1597,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.6442817+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.6465579+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":288.7925,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000002B","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"288.7925"}]}}
{"Timestamp":"2025-01-20T00:44:50.6496712+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6414db3a1fd6d4be6541d97dc8d3b9e7","SpanId":"19166a75be26dc0e","Properties":{"ElapsedMilliseconds":299.8492,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.8218426+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.8328247+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.8411189+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.8452390+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.8489215+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.8577409+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:50.8577174Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.8668498+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"elapsed":"5","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:50.8824712+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"elapsed":"9","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.0849277+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.1046368+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"elapsed":"12","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.1234492+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.1319758+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:51.1319575Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.1339965+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.1364428+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":279.3523,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.1385482+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.1409214+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":308.7463,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000002D","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"308.7463"}]}}
{"Timestamp":"2025-01-20T00:44:51.1433662+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c225ceabedc35d026f0a7932e856ba08","SpanId":"018968b7a038b2fb","Properties":{"ElapsedMilliseconds":321.5606,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.1958304+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.2040104+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.2087137+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.2108583+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.2131937+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.2176567+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:51.2176378Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.2239696+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"elapsed":"3","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.2368755+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"elapsed":"9","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.4324606+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"elapsed":"4","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.4490897+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"elapsed":"11","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.4624487+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.4690231+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:51.4690044Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.4716399+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.4773747+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":260.3634,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.4815023+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.4844959+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":280.9439,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000002F","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"280.9439"}]}}
{"Timestamp":"2025-01-20T00:44:51.4887162+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"95a15c090fd85d08ca877d575c8d1ead","SpanId":"2da870d1212da76b","Properties":{"ElapsedMilliseconds":292.9056,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.9368235+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.9440031+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.9494314+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.9524775+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.9551284+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.9604582+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:51.9604344Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.9715223+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:51.9882064+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"elapsed":"11","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.2098335+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.2422232+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"elapsed":"25","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.2670372+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"elapsed":"16","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.2749679+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:52.2749418Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.2782273+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.2837173+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":323.9879,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.2877178+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.2897693+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":346.3124,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000031","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"346.3124"}]}}
{"Timestamp":"2025-01-20T00:44:52.2945449+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"88518a014a9c265e913697ecd06fcdd7","SpanId":"df818cbc3db13e4a","Properties":{"ElapsedMilliseconds":357.714,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000031","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.6379323+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.6461020+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.6496476+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.6540359+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.6566130+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.6622727+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:52.6622539Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.6729480+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"elapsed":"6","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.6894846+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"elapsed":"10","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.9239780+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.9322414+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.9442377+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.9502406+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:52.9502150Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.9533447+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.9570129+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":295.5542,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.9603032+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:52.9618022+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":316.3893,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000033","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"316.3893"}]}}
{"Timestamp":"2025-01-20T00:44:52.9652565+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"204f542ce5e62570816139270c650a98","SpanId":"91e9208e5a3e151a","Properties":{"ElapsedMilliseconds":327.3357,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000033","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.1752960+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.1853110+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.1914134+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.1945740+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.1975590+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.2044233+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:53.2044036Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.2085120+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.2140199+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.4362827+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.4447645+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.4501758+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.4540614+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:53.4540362Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.4565513+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.4601808+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":256.5526,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.4636779+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.4657596+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":280.9339,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000035","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"280.9339"}]}}
{"Timestamp":"2025-01-20T00:44:53.4676859+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f07d60f6ec4fdc3ea6aa44d9cb739ced","SpanId":"746ee2c1d9ac0364","Properties":{"ElapsedMilliseconds":292.3973,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000035","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.6669329+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.6748392+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.6809147+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.6832460+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.6869769+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.6915034+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:53.6914844Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.6974703+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.7048416+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.9078835+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.9145716+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.9334450+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.9398656+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:53.9398498Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.9417450+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.9437188+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":252.8322,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.9465539+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:53.9481193+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":273.6373,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000037","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"273.6373"}]}}
{"Timestamp":"2025-01-20T00:44:53.9508351+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"49461a49f9135903d3ec82d48104cf20","SpanId":"405eb1c0edb4318b","Properties":{"ElapsedMilliseconds":283.9148,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000037","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.1837151+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.1921097+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.1980034+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.2023571+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.2047918+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.2096509+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:54.2096317Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.2238129+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.2336314+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.4351500+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.4428784+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.4515784+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.4559744+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:54.4559558Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.4582584+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.4607746+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":251.7282,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.4640359+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.4662405+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":274.7384,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000039","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"274.7384"}]}}
{"Timestamp":"2025-01-20T00:44:54.4692084+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"49f15efc59bcd03875f5fe78eacbc333","SpanId":"5c2ab52c8cd9098e","Properties":{"ElapsedMilliseconds":285.5083,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000039","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.6213224+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.6292522+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.6359465+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.6390168+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.6409236+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.6447722+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:54.6447546Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.6516705+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.6590640+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.8756567+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.8817313+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.8868231+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.8898420+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:54.8898175Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.8913968+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.8930821+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":248.918,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.8951836+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:54.8989785+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":270.2501,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000003B","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"270.2501"}]}}
{"Timestamp":"2025-01-20T00:44:54.9038425+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f7f1ccd22d4e61407523485f70a19a65","SpanId":"4f2c4075e1f7c2aa","Properties":{"ElapsedMilliseconds":282.5304,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000003B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.1193236+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.1261322+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.1328504+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.1364862+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.1380272+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.1415441+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:55.1415244Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.1460252+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.1505450+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.3561930+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.3635136+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.3702843+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.3727967+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:55.3727860Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.3742747+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.3758929+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":235.2102,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.3774541+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.3787439+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":253.3299,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000003D","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"253.3299"}]}}
{"Timestamp":"2025-01-20T00:44:55.3816960+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"f474c8e50049af9409d2b3ee81c625b5","SpanId":"f81ff6d05173abfc","Properties":{"ElapsedMilliseconds":262.4075,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000003D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.6022040+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.6094985+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.6159199+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.6178869+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.6193176+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.6225028+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:55.6224922Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.6271351+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.6341284+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.8923095+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.8993364+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.9050185+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.9076651+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:55.9076566Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.9094512+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.9121722+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":290.7207,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.9139358+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:55.9153261+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":306.5335,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000003F","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"306.5335"}]}}
{"Timestamp":"2025-01-20T00:44:55.9179620+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"639336f5f8d5f71d1f0c80e7d7622282","SpanId":"57231d9270b0443f","Properties":{"ElapsedMilliseconds":315.7447,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000003F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.0751215+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.0820833+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.0844358+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.0883108+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.0906553+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.0946621+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:56.0946511Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.0992296+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.1059672+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.3192032+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.3254839+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.3305457+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.3349752+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:56.3349645Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.3375171+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.3397184+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":245.4907,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.3412199+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.3424073+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":260.6287,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000041","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"260.6287"}]}}
{"Timestamp":"2025-01-20T00:44:56.3446042+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"624d349adfd18e69863d1e3e7e18be58","SpanId":"fa7a1ea488d80e76","Properties":{"ElapsedMilliseconds":269.3647,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000041","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.5136908+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.5209201+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.5256332+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.5281320+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.5311566+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.5367026+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:56.5366887Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.5427464+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.5501637+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.7828517+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.7898429+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.8088587+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.8110237+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:56.8110159Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.8120647+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.8143325+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":278.0776,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.8159324+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:56.8176159+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":297.3128,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000043","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"297.3128"}]}}
{"Timestamp":"2025-01-20T00:44:56.8200410+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ebecd9ad09ea978a221e3b5b725bc388","SpanId":"1bfbb033f9147d07","Properties":{"ElapsedMilliseconds":306.3784,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000043","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.1952334+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.2072158+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.2129734+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.2159940+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.2184006+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.2239736+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:57.2239550Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.2294041+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.2359976+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.4412713+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.4505961+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.4703133+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.4769985+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:57.4769807Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.4806380+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.4850420+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":261.5949,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.4882080+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.4903492+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":283.6503,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000045","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"283.6503"}]}}
{"Timestamp":"2025-01-20T00:44:57.4939309+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"748aded90c6f1160e333acfef427bf92","SpanId":"f2394e0652ba6b86","Properties":{"ElapsedMilliseconds":298.7129,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000045","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.5729023+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.5796725+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.5851972+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.5880253+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.5902426+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.5945531+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:57.5945422Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.6003746+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.6059545+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.8255291+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.8322878+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.8519718+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.8623793+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:57.8623637Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.8664033+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.8708617+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":276.7192,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.8742155+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.8763079+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":297.1813,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000047","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"297.1813"}]}}
{"Timestamp":"2025-01-20T00:44:57.8814263+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fd230a0970a32eb4424a74479da29f1e","SpanId":"f2b0dfcf74cbc9f4","Properties":{"ElapsedMilliseconds":308.5189,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000047","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.9098610+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.9146792+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.9200470+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.9224766+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.9246720+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.9287313+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:57.9287208Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.9345433+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:57.9414308+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:58.1486825+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:58.1568582+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:58.1646956+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:58.1694315+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:58.1694192Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:58.1720586+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:58.1747519+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":246.5191,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:58.1772633+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:58.1813630+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":267.0606,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000049","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"267.0606"}]}}
{"Timestamp":"2025-01-20T00:44:58.1863120+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dff79861697f907cbeec7acc4c49f336","SpanId":"f3c4eed834f750be","Properties":{"ElapsedMilliseconds":276.4449,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000049","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.2712951+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.2792626+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.2838143+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.2867299+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.2890549+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.2932405+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:59.2932301Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.2982807+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.3058773+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.5210800+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.5286665+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.5389868+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.5438684+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:59.5438547Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.5484803+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.5523085+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":259.4623,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.5568619+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.5588777+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":280.1292,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000004B","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"280.1292"}]}}
{"Timestamp":"2025-01-20T00:44:59.5615698+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"64aee97fe459623e860eb825e93a0339","SpanId":"d7647235c387347c","Properties":{"ElapsedMilliseconds":290.2731,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000004B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.7363379+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.7449696+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.7495830+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.7518298+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.7539290+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.7581623+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:59.7581516Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.7631237+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.7724844+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.9743896+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.9805726+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.9893927+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.9931279+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:44:59.9931166Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.9956083+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:44:59.9975182+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":239.7621,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.0001911+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.0019149+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":257.5014,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000004D","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"257.5014"}]}}
{"Timestamp":"2025-01-20T00:45:00.0050647+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2a408b2def05913d7380d6ab134c2675","SpanId":"a4ed53300ab32ba0","Properties":{"ElapsedMilliseconds":268.7502,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000004D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.1760165+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.1843700+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.1885485+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.1909629+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.1931927+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.1990744+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:00.1990635Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.2041884+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.2113872+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.4235392+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.4312454+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.4410662+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.4473852+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:00.4473755Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.4495255+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.4514649+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":252.7801,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.4538133+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.4560521+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":272.1768,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000004F","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"272.1768"}]}}
{"Timestamp":"2025-01-20T00:45:00.4588181+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"346ce48ddc3b5108f6da6a642de69223","SpanId":"0796183015610565","Properties":{"ElapsedMilliseconds":282.8161,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000004F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.6166170+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.6238497+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.6301828+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.6335369+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.6362248+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.6393860+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:00.6393787Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.6421073+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.6473861+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.8576916+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.8640430+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.8823797+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.8865468+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:00.8865369Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.8884904+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.8908260+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":251.6827,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.8935201+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.8956613+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":272.3365,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000051","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"272.3365"}]}}
{"Timestamp":"2025-01-20T00:45:00.9007934+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cd2b2f2a6e810c9627698c3f0a715bda","SpanId":"417f585fd281de8a","Properties":{"ElapsedMilliseconds":284.1649,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000051","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.9214115+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.9277795+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.9324839+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.9339784+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.9358444+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.9399670+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:00.9399580Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.9444086+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:00.9527105+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.1863848+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.1948742+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.2182043+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.2240313+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:01.2240136Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.2262114+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.2285973+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":289.0196,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.2341548+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.2372104+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":309.8018,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000053","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"309.8018"}]}}
{"Timestamp":"2025-01-20T00:45:01.2394405+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"37286999a6624d2ea55a7ba63f58b858","SpanId":"d9b885bbc7534433","Properties":{"ElapsedMilliseconds":318.0224,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000053","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.3574766+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.3650270+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.3691093+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.3719643+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.3755441+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.3800355+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:01.3800223Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.3853575+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.3891075+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.6169001+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.6238362+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.6423569+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.6483480+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:01.6483325Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.6513142+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.6548323+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":275.2783,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.6572895+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.6587181+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":293.9985,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000055","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"293.9985"}]}}
{"Timestamp":"2025-01-20T00:45:01.6610838+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e25495fec8146f224ec4d953f2c06d22","SpanId":"398d6722685e2a00","Properties":{"ElapsedMilliseconds":303.6015,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000055","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.8149018+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.8207871+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.8233297+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.8246103+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.8258010+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.8280841+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:01.8280767Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.8311474+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:01.8351653+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.0392610+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.0460394+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.0695394+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.0777157+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:02.0777003Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.0801008+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.0832611+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":255.4318,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.0865869+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.0886637+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":268.1889,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000057","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"268.1889"}]}}
{"Timestamp":"2025-01-20T00:45:02.0944321+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"58672bc282a42530eaffed9285d30eed","SpanId":"dbb3d2e377a4f608","Properties":{"ElapsedMilliseconds":279.5426,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000057","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.1490655+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.1543197+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.1588321+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.1611374+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.1628487+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.1664529+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:02.1664412Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.1703673+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.1756565+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.3972998+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.4071887+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.4285076+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"elapsed":"16","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.4371528+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:02.4371366Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.4397850+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.4425841+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":276.6651,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.4451864+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.4492009+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":295.3645,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000059","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"295.3645"}]}}
{"Timestamp":"2025-01-20T00:45:02.4517789+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e44b8bf528cb35b082073aa53b4da89c","SpanId":"3aaad7f125004e48","Properties":{"ElapsedMilliseconds":302.7098,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000059","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.5644454+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.5713493+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.5761532+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.5791331+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.5816782+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.5859822+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:02.5859680Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.5914183+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.5973308+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.8306092+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.8399526+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.8597290+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.8670948+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:02.8670796Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.8695687+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.8721956+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":286.7071,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.8757944+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:02.8773624+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":306.5134,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000005B","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"306.5134"}]}}
{"Timestamp":"2025-01-20T00:45:02.8803620+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0ad78635569ec412a923d0a16e2adcb8","SpanId":"b52c475bde612a44","Properties":{"ElapsedMilliseconds":315.9161,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000005B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.0376609+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.0437584+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.0477400+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.0503280+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.0526863+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.0570942+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:03.0570797Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.0617258+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.0693915+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.3218576+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.3285369+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.3386092+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.3448785+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:03.3448665Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.3485431+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.3515576+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":294.9537,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.3552894+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.3575616+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":314.3687,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000005D","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"314.3687"}]}}
{"Timestamp":"2025-01-20T00:45:03.3612931+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"89e9b21dad6bdb0ce46e4e6add411270","SpanId":"9816e89a19a1c684","Properties":{"ElapsedMilliseconds":323.6136,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000005D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.5036726+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.5107489+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.5190880+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.5228494+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.5249850+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.5274373+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:03.5274269Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.5318661+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.5381938+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.7645243+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.7695008+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.7882465+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.7946687+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:03.7946565Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.7996202+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.8022742+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":275.0965,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.8069642+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.8090761+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":298.78,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000005F","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"298.7800"}]}}
{"Timestamp":"2025-01-20T00:45:03.8147285+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fdeda0b3547f5af86e16034a58ecf666","SpanId":"66e354ddba05635e","Properties":{"ElapsedMilliseconds":311.0367,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000005F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.8726243+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.8758912+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.8778589+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.8799737+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.8826529+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.8859372+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:03.8859291Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.8899063+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:03.8950613+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1033646+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1081662+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"elapsed":"0","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1128044+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1164905+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:04.1164787Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1183344+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1202964+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":234.6186,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1233650+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1254147+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":249.893,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000061","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"249.8930"}]}}
{"Timestamp":"2025-01-20T00:45:04.1284026+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d25c75369606fafbf860808e8fce79df","SpanId":"2910e1b01f50e181","Properties":{"ElapsedMilliseconds":255.797,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000061","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1516708+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1582303+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1638313+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1679894+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1705054+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1750917+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:04.1750790Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1796723+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.1868495+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.4083793+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.4180940+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.4265945+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.4329705+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:04.4329619Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.4369476+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.4407520+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":266.2001,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.4434796+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.4457388+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":287.8913,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000063","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"287.8913"}]}}
{"Timestamp":"2025-01-20T00:45:04.4495210+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"98bccd492b88d91269a2ab605ea7f43f","SpanId":"de9ec458f4b43fc8","Properties":{"ElapsedMilliseconds":297.843,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000063","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.5645504+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.5727445+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.5754151+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.5773504+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.5796323+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.5857097+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:04.5856850Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.5912318+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.5969006+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.8287941+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.8356389+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.8549044+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.8609753+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:04.8609636Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.8634741+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.8673235+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":282.1534,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.8710403+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:04.8727797+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":300.3059,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000065","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"300.3059"}]}}
{"Timestamp":"2025-01-20T00:45:04.8762201+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"2f1d2fadfb1ed4b3b634aba5a28216a8","SpanId":"7406f9dc8b786f06","Properties":{"ElapsedMilliseconds":311.6804,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000065","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.0280718+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.0376150+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.0423532+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.0447320+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.0477983+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.0507717+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:05.0507636Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.0541920+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.0594164+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.2707922+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.2772155+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.2844147+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.2890844+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:05.2890745Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.2910695+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.2936582+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":243.3718,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.2960344+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.2979865+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":260.838,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000067","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"260.8380"}]}}
{"Timestamp":"2025-01-20T00:45:05.3011522+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ac77e826f36b510f5bce029d533eb613","SpanId":"06b52cb68c9ffdaf","Properties":{"ElapsedMilliseconds":273.0864,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000067","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.6822803+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.6900020+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.6950118+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.6993457+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.7023614+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.7058035+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:05.7057949Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.7095692+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.7194074+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.9450096+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.9516487+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.9728512+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.9821227+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:05.9821077Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.9857313+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.9893217+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":283.8492,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.9926990+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:05.9952054+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":305.8188,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000069","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"305.8188"}]}}
{"Timestamp":"2025-01-20T00:45:05.9993147+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d6412d6386fe82b6202dd78f9dd9aaba","SpanId":"78b866fc4a89d0e6","Properties":{"ElapsedMilliseconds":317.0104,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000069","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.0532991+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.0597207+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.0680547+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.0708709+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.0733538+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.0783602+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:06.0783424Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.0851333+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.0898798+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.3096350+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.3167098+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.3246849+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.3334160+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:06.3334023Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.3370030+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.3399556+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":262.004,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.3428330+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:06.3452916+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":286.2482,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000006B","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"286.2482"}]}}
{"Timestamp":"2025-01-20T00:45:06.3493823+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"24e19e3081955e21ed6cf8d052cd4dae","SpanId":"8984d1ea6a238e07","Properties":{"ElapsedMilliseconds":296.0746,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000006B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:09.9316566+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:09.9417020+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:09.9480102+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:09.9506553+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:09.9522844+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:09.9567859+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:09.9567760Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:09.9616407+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:09.9690162+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.1732133+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.1807109+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.2019457+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.2107716+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:10.2107572Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.2141806+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.2177404+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":261.3628,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.2217828+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.2242354+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":283.095,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000006D","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"283.0950"}]}}
{"Timestamp":"2025-01-20T00:45:10.2283416+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8edbe1b29cad6c20147d52ee67054bcf","SpanId":"79cd45b98ffceb48","Properties":{"ElapsedMilliseconds":296.6813,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000006D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.5194387+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.5309046+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.5364030+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.5390299+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.5429525+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.5492669+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:10.5492530Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.5536473+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.5591645+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.7595177+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.7688291+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.7886216+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.7944695+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:10.7944567Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.7979037+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.8013340+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":252.5485,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.8039890+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:10.8060318+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":275.672,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:0000006F","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"275.6720"}]}}
{"Timestamp":"2025-01-20T00:45:10.8099480+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9b8d743ef4034c538218bdf7dd925db1","SpanId":"8579e6e19ffc9efa","Properties":{"ElapsedMilliseconds":290.5341,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:0000006F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:11.7329164+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:11.7395779+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:11.7461583+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:11.7491481+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:11.7511882+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:11.7552895+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:11.7552767Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:11.7599321+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:11.7655662+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:11.9793459+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:11.9868703+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:12.0069484+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:12.0164098+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:45:12.0163883Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:12.0214680+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"9bb94b49-0e57-4ded-a17e-d694113f0fdf","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:12.0248634+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":270.0318,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:12.0284354+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:45:12.0315145+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":292.4572,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORAUK2LIO:00000071","ConnectionId":"0HN9ORAUK2LIO"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"292.4572"}]}}
{"Timestamp":"2025-01-20T00:45:12.0355878+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"fae4a17ac0d56bb020cba084f39c1a31","SpanId":"0426cf0e53aa724b","Properties":{"ElapsedMilliseconds":302.6664,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORAUK2LIO:00000071","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORAUK2LIO"}}
{"Timestamp":"2025-01-20T00:49:21.8929815+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:49:22.0825368+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:49:22.0854541+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:49:22.1112349+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:49:22.1145702+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:49:22.1161537+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:49:22.1752771+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:22.2477005+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:22.2526621+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:22.2577123+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:22.2781367+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:22.3785734+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:49:22.3782417Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:23.4833085+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"elapsed":"31","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:23.5547559+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"elapsed":"11","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:23.8033392+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:23.8101426+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:23.9322588+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"elapsed":"12","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:23.9439239+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:49:23.9438261Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:23.9522676+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:23.9633971+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":1675.4146,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:23.9683636+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:23.9724121+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":1762.3919,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORE2119U8:00000001","ConnectionId":"0HN9ORE2119U8"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1762.3919"}]}}
{"Timestamp":"2025-01-20T00:49:23.9839707+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"688150366b2d86806c75f14775ce8a07","SpanId":"6ddf203ac07dcf06","Properties":{"ElapsedMilliseconds":1810.8825,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORE2119U8:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:25.9389489+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:25.9476719+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:25.9502221+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:25.9518918+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:25.9535108+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:25.9589757+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:49:25.9589376Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:26.0429167+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:26.0494588+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:26.2441470+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:26.2505174+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:26.2580244+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:26.2627669+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:49:26.2627326Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:26.2657854+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:26.2688867+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":312.3335,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:26.2712394+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:26.2733241+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":326.3537,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORE2119U8:00000003","ConnectionId":"0HN9ORE2119U8"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"326.3537"}]}}
{"Timestamp":"2025-01-20T00:49:26.2756670+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"57b3e6703d489219b32ad67da73dc2a3","SpanId":"87ad3f4b87356100","Properties":{"ElapsedMilliseconds":336.8087,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORE2119U8:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.2651847+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.2750249+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.2793775+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.2813158+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.2837715+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.3034525+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:49:27.3033755Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.4086664+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.4184895+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.8053868+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.8128351+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.8204055+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.8239666+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:49:27.8239270Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.8261685+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.8285597+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":540.114,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.8306029+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:27.8319729+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":560.6964,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORE2119U8:00000005","ConnectionId":"0HN9ORE2119U8"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"560.6964"}]}}
{"Timestamp":"2025-01-20T00:49:27.8344228+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"9565ee8cf2364e5f6de2c4f8d30f32a3","SpanId":"41fd40209ed7a5e3","Properties":{"ElapsedMilliseconds":569.1902,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORE2119U8:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.5043513+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.5129895+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.5186110+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.5213306+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.5235321+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.5286227+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:49:28.5285951Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.5364131+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.5423312+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.7437449+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.7501651+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.7704541+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.7764160+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:49:28.7763332Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.7795057+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.7821022+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":254.6962,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.7841535+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:28.7868097+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":274.2945,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORE2119U8:00000007","ConnectionId":"0HN9ORE2119U8"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"274.2945"}]}}
{"Timestamp":"2025-01-20T00:49:28.7890400+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"6661919a072bd8caf29a13cad0b591fe","SpanId":"921a2a86c062a36d","Properties":{"ElapsedMilliseconds":284.7091,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORE2119U8:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.5845902+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.5922204+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.5995710+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.6017280+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.6049658+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.6110700+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:49:29.6110198Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.6199450+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.6294388+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.8480641+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.8557324+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.8641200+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.8686213+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:49:29.8685931Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.8710697+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3e484d54-17a3-48ed-93d6-1e6f3134bf65","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.8735639+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":263.9107,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.8759396+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:49:29.8779119+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":286.5913,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORE2119U8:00000009","ConnectionId":"0HN9ORE2119U8"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"286.5913"}]}}
{"Timestamp":"2025-01-20T00:49:29.8806111+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"239776503b65578d7bec0786776a1892","SpanId":"220a3ad6478cd7e5","Properties":{"ElapsedMilliseconds":296.039,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORE2119U8:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORE2119U8"}}
{"Timestamp":"2025-01-20T00:50:12.8333080+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:50:12.9958673+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:50:13.0008657+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:50:13.0211217+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:50:13.0225643+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:50:13.0246989+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:50:27.8670596+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:50:28.0333650+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:50:28.0352914+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:50:28.0630979+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:50:28.0659230+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:50:28.0682459+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:50:29.6066827+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:29.6737712+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:29.6793073+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:29.6854179+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:29.7080452+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:29.8088505+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:29.8084519Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:30.9150815+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"elapsed":"32","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:31.0092143+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"elapsed":"18","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:31.2939317+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:31.2987225+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:31.4035408+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"elapsed":"13","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:31.4181510+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:31.4180422Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:31.4260719+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:31.4395314+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":1723.5624,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:31.4449749+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:31.4506228+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":1812.1742,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000001","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1812.1742"}]}}
{"Timestamp":"2025-01-20T00:50:31.4622195+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a74f919222f8f3024f492b67c69927bf","SpanId":"40bcd39677a8321a","Properties":{"ElapsedMilliseconds":1859.0934,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.5577543+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.5643775+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.5693450+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.5715569+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.5743763+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.5789533+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:32.5789207Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.6218467+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.6289478+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.8233449+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.8318119+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.8411329+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.8450882+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:32.8450695Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.8469974+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.8496669+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":272.8355,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.8522997+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:32.8546236+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":290.9441,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000003","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"290.9441"}]}}
{"Timestamp":"2025-01-20T00:50:32.8575018+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0b02b30f13c344843f08f54c14ca1d6e","SpanId":"2039fa9e0cfc8910","Properties":{"ElapsedMilliseconds":299.8446,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.4917672+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.4987960+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.5018399+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.5045713+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.5057879+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.5135355+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:33.5135156Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.5548362+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.5611129+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.6898346+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.6969650+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.7169608+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.7230885+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:33.7230582Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.7253740+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.7292069+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":220.9563,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.7315448+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:33.7342086+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":237.1953,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000005","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"237.1953"}]}}
{"Timestamp":"2025-01-20T00:50:33.7370937+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8fcf1d5b9bd426477110d8f08d229d03","SpanId":"d4a06a9bece30817","Properties":{"ElapsedMilliseconds":245.2867,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.2415646+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.2456488+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.2486254+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.2507664+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.2532293+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.2558944+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:34.2558771Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.2622924+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.2688352+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.4675660+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.4734558+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.4813982+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.4873558+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:34.4873320Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.4902163+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.4935833+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":238.4367,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.4977955+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:34.5012589+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":256.0577,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000007","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"256.0577"}]}}
{"Timestamp":"2025-01-20T00:50:34.5050529+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e62acb26c928d33ab90f3c0c522ee635","SpanId":"c8645a467efa8525","Properties":{"ElapsedMilliseconds":263.4766,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.0313532+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.0390354+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.0456462+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.0482370+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.0516705+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.0565691+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:35.0565460Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.0623517+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.0687122+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.2777760+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.2830389+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.3019856+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.3059065+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:35.3058824Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.3090331+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.3107210+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":254.956,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.3128911+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.3145171+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":276.0507,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000009","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"276.0507"}]}}
{"Timestamp":"2025-01-20T00:50:35.3176572+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0152acb80108320542c17b9c8c12f039","SpanId":"e8854bb482b742f3","Properties":{"ElapsedMilliseconds":286.2732,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.8422113+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.8485821+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.8522781+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.8550879+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.8565284+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.8593710+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:35.8593540Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.8643611+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:35.8726898+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:36.0583274+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:36.0633368+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:36.0809637+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"elapsed":"13","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:36.0845838+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:36.0845642Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:36.0863843+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:36.0888550+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":230.179,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:36.0917216+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:36.0930800+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":245.1301,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:0000000B","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"245.1301"}]}}
{"Timestamp":"2025-01-20T00:50:36.0954986+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0de0b5753e600a2c5d873fde3d56e38d","SpanId":"07295d78d92a5f4e","Properties":{"ElapsedMilliseconds":253.3222,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.7404387+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.7455279+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.7485495+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.7500522+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.7511754+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.7534313+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:42.7534121Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.7583204+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.7648959+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.9528410+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.9575079+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.9783770+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.9882897+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:42.9882451Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.9911869+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.9942204+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":241.3721,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:42.9988207+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:43.0011922+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":256.0145,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:0000000D","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"256.0145"}]}}
{"Timestamp":"2025-01-20T00:50:43.0055845+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4590ed5f2de1df4c57170d5b253380dd","SpanId":"b07806d299cbf5db","Properties":{"ElapsedMilliseconds":265.1286,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:43.8979118+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:43.9054736+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:43.9103106+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:43.9124404+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:43.9143816+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:43.9220428+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:43.9220196Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:43.9279689+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:43.9371160+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.1301282+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.1366035+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.1583961+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.1629303+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:44.1629046Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.1645178+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.1667599+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":245.723,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.1689062+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.1710051+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":265.9666,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:0000000F","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"265.9666"}]}}
{"Timestamp":"2025-01-20T00:50:44.1733557+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a80f4aa9da7d3c40871c8f5db9defbed","SpanId":"917a06f4d36d69ff","Properties":{"ElapsedMilliseconds":275.3262,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.9466344+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.9679387+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.9758365+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.9786362+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.9811653+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.9871218+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:44.9870981Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:44.9932362+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.0000846+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.2233418+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.2283438+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.2350026+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.2376904+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:45.2376692Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.2391398+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.2407856+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":254.6135,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.2428285+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.2446506+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":277.3296,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000011","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"277.3296"}]}}
{"Timestamp":"2025-01-20T00:50:45.2477177+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4912c8cb3a416a0e264ba1afbfa6471e","SpanId":"5e1a318ebdd75031","Properties":{"ElapsedMilliseconds":301.1529,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.8127346+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.8213551+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.8262689+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.8278361+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.8294625+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.8337969+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:45.8337764Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.8408564+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:45.8464846+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:46.0836945+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:46.0904007+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:46.0970714+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:46.1021528+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:46.1021287Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:46.1043314+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:46.1062040+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":273.298,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:46.1093362+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:46.1109549+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":290.145,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000013","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"290.1450"}]}}
{"Timestamp":"2025-01-20T00:50:46.1129516+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0311165d23ddfca43e40bf68a553e5dd","SpanId":"7658dc73e4974e91","Properties":{"ElapsedMilliseconds":300.2514,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.6396509+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.6447644+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.6479075+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.6505515+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.6526911+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.6571793+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:50.6571637Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.6624780+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.6702846+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.8737153+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.8822105+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.9042791+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.9105829+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:50.9105592Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.9148145+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.9182193+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":261.6092,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.9218922+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:50.9241625+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":279.7555,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000015","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"279.7555"}]}}
{"Timestamp":"2025-01-20T00:50:50.9286110+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"44fcc2e310a1384c61d0c8dd08dca069","SpanId":"fca87eebddb6336e","Properties":{"ElapsedMilliseconds":289.0049,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.5501921+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.5546309+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.5599170+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.5627337+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.5646930+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.5700127+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:51.5699957Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.5741416+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.5783052+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.7608043+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.7678240+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.7934744+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"elapsed":"20","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.7989215+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:50:51.7989005Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.8013158+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.8043305+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":235.3667,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.8084996+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:50:51.8107661+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":256.5425,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000017","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"256.5425"}]}}
{"Timestamp":"2025-01-20T00:50:51.8148305+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e6e5c972aaa2b18c8282573d7e8d3a58","SpanId":"476fea8816bab133","Properties":{"ElapsedMilliseconds":264.65,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.4252155+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.4423084+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.4447026+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.4472319+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.4501993+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.4543409+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:18.4543217Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.4602812+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.4673717+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.6619231+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.6696669+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.6921349+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"elapsed":"18","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.6992657+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:18.6992428Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.7014650+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.7034499+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":249.7438,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.7058718+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:18.7079778+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":265.9796,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000019","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"265.9796"}]}}
{"Timestamp":"2025-01-20T00:51:18.7117176+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"eacfeba99393b3ba9f2a0d9dd727bae4","SpanId":"604f1f9071f3a42d","Properties":{"ElapsedMilliseconds":286.4941,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.4913810+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.4984487+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.5012113+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.5025248+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.5037203+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.5061672+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:19.5061536Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.5102902+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.5136935+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.7080835+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.7147603+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.7335266+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.7412716+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:19.7412436Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.7448964+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.7476064+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":241.9099,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.7506322+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:19.7525009+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":254.3319,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:0000001B","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"254.3319"}]}}
{"Timestamp":"2025-01-20T00:51:19.7565876+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"cc8d552c03fed620d8d3470b0c12273e","SpanId":"4468ceb23aed86ff","Properties":{"ElapsedMilliseconds":265.2595,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.2118602+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.2195845+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.2241619+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.2263088+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.2292773+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.2323794+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:20.2323642Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.2356606+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.2430364+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.4367047+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.4454089+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.4530351+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.4594024+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:20.4593637Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.4625799+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.4652670+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":233.4041,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.4691147+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:20.4712049+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":252.2389,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:0000001D","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"252.2389"}]}}
{"Timestamp":"2025-01-20T00:51:20.4733033+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4032936d92e1c8cba779477278302f94","SpanId":"472866de3ebe9386","Properties":{"ElapsedMilliseconds":261.4471,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.4132178+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.4186910+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.4250553+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.4282519+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.4304156+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.4352350+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:27.4352028Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.4486435+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.4574156+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"elapsed":"3","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.6925767+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.6987775+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.7213162+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"elapsed":"17","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.7249845+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:27.7249677Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.7271420+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.7310347+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":296.7839,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.7328639+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:27.7347950+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":316.7015,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:0000001F","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"316.7015"}]}}
{"Timestamp":"2025-01-20T00:51:27.7376933+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"dcbdde0db7b553f706f0f6b6faf077bb","SpanId":"a3ec6277c58283e4","Properties":{"ElapsedMilliseconds":324.3583,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000001F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.5415350+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.5496788+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.5559094+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.5576762+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.5599883+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.5647364+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:28.5647151Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.5696403+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.5777180+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.7832520+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.7907464+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.8099282+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.8140820+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:28.8140596Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.8184960+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.8222624+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":258.383,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.8250501+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:28.8272979+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":278.2414,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000021","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"278.2414"}]}}
{"Timestamp":"2025-01-20T00:51:28.8317132+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"38c22b8f5850337c9beddd73c1aef0ef","SpanId":"defd96c83fd925df","Properties":{"ElapsedMilliseconds":290.1995,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000021","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.5091125+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.5170612+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.5204669+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.5223526+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.5236260+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.5265727+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:29.5265586Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.5301416+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.5339196+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.7278357+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.7346887+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.7431909+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.7500545+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:29.7500271Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.7528472+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.7562870+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":230.3484,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.7589902+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:29.7610431+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":244.4993,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000023","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"244.4993"}]}}
{"Timestamp":"2025-01-20T00:51:29.7662421+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"80514c1be4342615bed9815870594990","SpanId":"cb305a6a390b2dc5","Properties":{"ElapsedMilliseconds":257.0288,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000023","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.5491759+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.5591232+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.5639517+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.5655390+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.5666186+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.5688777+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:30.5688566Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.5738717+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.5789871+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.7827572+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.7894713+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.7969313+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.8040597+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:30.8040350Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.8064198+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.8092964+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":240.9983,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.8132145+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:30.8154004+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":257.0373,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000025","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"257.0373"}]}}
{"Timestamp":"2025-01-20T00:51:30.8191133+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"027c9f10e8c1d2918f89a7d4643abb1d","SpanId":"feb1d1d059abfb73","Properties":{"ElapsedMilliseconds":269.962,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000025","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.2471462+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.2539254+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.2589886+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.2610419+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.2631273+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.2673233+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:31.2673054Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.2721981+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.2785934+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.4884217+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.4927982+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.5107345+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.5163703+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:31.5163470Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.5188187+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.5216944+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":255.007,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.5252952+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:31.5283128+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":274.9154,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000027","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"274.9154"}]}}
{"Timestamp":"2025-01-20T00:51:31.5330392+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"383f4724ecf67f7e72b1ce23ba0c6909","SpanId":"8b6eba91b2cccc57","Properties":{"ElapsedMilliseconds":285.8862,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000027","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.0400554+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.0480869+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.0519574+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.0545789+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.0576149+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.0625179+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:32.0624971Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.0679283+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.0732827+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.2710328+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.2770370+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.2949733+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.2997019+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:32.2996826Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.3015920+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.3035335+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":241.9094,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.3074180+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:32.3098238+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":262.4379,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:00000029","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"262.4379"}]}}
{"Timestamp":"2025-01-20T00:51:32.3132846+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c2bc28f2f154df037a387da46283e7db","SpanId":"b35dd75507ea5be5","Properties":{"ElapsedMilliseconds":273.2316,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:00000029","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.5828265+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.5908330+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.5947442+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.5976880+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.5999421+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.6070104+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:35.6069897Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.6120467+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.6167717+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.8459638+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.8556503+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.8689494+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"elapsed":"8","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.8766356+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:35.8766194Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.8784124+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.8805695+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":274.2808,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.8835990+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:35.8858139+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":295.4609,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:0000002B","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"295.4609"}]}}
{"Timestamp":"2025-01-20T00:51:35.8891851+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"30e5d117be5bed1df53fe1afc68775ca","SpanId":"c1c169437b539d2a","Properties":{"ElapsedMilliseconds":306.3645,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000002B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.4343483+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.4418946+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.4462393+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.4484820+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.4518298+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.4573926+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:36.4573756Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.4619743+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.4694414+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.6938106+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.7005091+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.7060536+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.7125442+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:36.7125276Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.7148539+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.7178447+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":260.9788,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.7214389+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:36.7236955+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":282.1749,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:0000002D","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"282.1749"}]}}
{"Timestamp":"2025-01-20T00:51:36.7291927+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e7b38f2dcaa34b2d5f2a75c04003a590","SpanId":"57f3d9e208bb6a5b","Properties":{"ElapsedMilliseconds":294.8575,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000002D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.2584012+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.2665331+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.2702687+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.2719552+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.2756251+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.2806698+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:45.2806486Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.2876891+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.2951436+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.4997204+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.5080337+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.5156848+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"elapsed":"2","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.5194322+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:45.5194160Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.5216098+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"5f8166e9-435b-4761-9eb2-f84c6072a7f4","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.5252247+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":245.3005,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.5289701+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:45.5309375+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":264.7748,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OREM461EH:0000002F","ConnectionId":"0HN9OREM461EH"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"264.7748"}]}}
{"Timestamp":"2025-01-20T00:51:45.5357527+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"ed6640c2b63935647a1c47670e1fab14","SpanId":"f2dc00c6371e45e0","Properties":{"ElapsedMilliseconds":277.3801,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OREM461EH:0000002F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9OREM461EH"}}
{"Timestamp":"2025-01-20T00:51:51.4929809+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:51:51.6501393+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:51:51.6557272+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:51:51.6816651+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:51:51.6853864+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:51:51.6943449+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:51:51.9796270+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:52.0438956+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:52.0520109+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:52.0588992+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:52.0793167+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:52.1784255+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:52.1779758Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:53.2911417+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"elapsed":"37","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:53.3693080+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"elapsed":"7","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:53.6536020+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:53.6637474+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:53.7894685+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"elapsed":"16","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:53.8020518+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:51:53.8019889Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:53.8078000+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:53.8199365+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":1733.0539,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:53.8253710+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:51:53.8310496+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":1819.4734,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:00000001","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1819.4734"}]}}
{"Timestamp":"2025-01-20T00:51:53.8446196+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0b5158c979b183f17d3e7e2e2a8c0e6e","SpanId":"fc1f28ab2475dbd6","Properties":{"ElapsedMilliseconds":1867.5281,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.3238131+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.3364616+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.3413689+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.3445196+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.3466498+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.3565396+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:30.3564773Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.3935076+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.4048906+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"elapsed":"3","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.7841020+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.7912715+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.8190725+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"elapsed":"20","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.8256414+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:30.8256063Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.8287041+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.8315361+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":479.1909,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.8337165+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:30.8355533+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":500.5539,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:00000003","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"500.5539"}]}}
{"Timestamp":"2025-01-20T00:52:30.8416475+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"8cd6cc9eff93efa6eb5bb88c3179dce2","SpanId":"e9580b7c203cc17d","Properties":{"ElapsedMilliseconds":517.9192,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:31.6517389+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:31.6590407+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:31.6616054+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:31.6632786+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:31.6646684+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:31.6784888+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:31.6784625Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:31.7634759+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:31.7720442+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:31.9670891+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:31.9753101+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.0015465+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"elapsed":"20","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.0094060+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:32.0093761Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.0123434+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.0158952+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":348.1787,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.0208764+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.0226999+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":366.237,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:00000005","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"366.2370"}]}}
{"Timestamp":"2025-01-20T00:52:32.0256322+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"37ffd7b9348dd90acce3d8cb38fd641a","SpanId":"a16504a511edccc2","Properties":{"ElapsedMilliseconds":373.9727,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000005","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.5635919+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.5703475+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.5729372+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.5741100+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.5762344+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.5806210+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:32.5805999Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.5875910+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.5961109+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"elapsed":"3","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.7938041+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.8024160+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.8134956+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.8173044+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:32.8172791Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.8190449+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.8212685+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":241.5647,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.8234199+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.8251521+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":255.2014,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:00000007","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"255.2014"}]}}
{"Timestamp":"2025-01-20T00:52:32.8278812+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4ff5af06d0363c5f01d62aca0135bf7f","SpanId":"9c49b9cb37be05a6","Properties":{"ElapsedMilliseconds":264.2868,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000007","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.8982062+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.9049061+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.9093807+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.9128999+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.9144307+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.9191793+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:32.9191544Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.9247851+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:32.9361537+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.1340378+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.1403805+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.1610916+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"elapsed":"16","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.1652365+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:33.1652122Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.1669325+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.1692313+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":250.9638,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.1706161+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.1720950+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":267.837,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:00000009","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"267.8370"}]}}
{"Timestamp":"2025-01-20T00:52:33.1745365+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c54043bdf2a4a805b965418090059196","SpanId":"009a63c659b7a478","Properties":{"ElapsedMilliseconds":276.3601,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000009","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.3164315+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.3250228+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.3292895+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.3308114+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.3328962+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.3373159+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:33.3372907Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.3426743+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.3530890+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.5440807+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.5494846+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.5687000+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.5739702+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:33.5739498Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.5768381+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.5787518+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":242.2221,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.5812329+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.5827300+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":258.2529,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:0000000B","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"258.2529"}]}}
{"Timestamp":"2025-01-20T00:52:33.5851990+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"a659aba585886af83ceb123170ecfd21","SpanId":"6c7c8c0a76cd9a43","Properties":{"ElapsedMilliseconds":268.8159,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:0000000B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.7089194+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.7125137+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.7170709+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.7192855+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.7213715+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.7264994+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:33.7264754Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.7319245+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.7389606+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.9413922+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.9493942+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.9703307+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"elapsed":"16","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.9775061+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:33.9774692Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.9807759+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.9847036+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":259.0636,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.9893483+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:33.9909957+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":278.8752,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:0000000D","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"278.8752"}]}}
{"Timestamp":"2025-01-20T00:52:33.9937237+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c9a210175e836307640fc57c46f8a3f6","SpanId":"4005d9bb5138514a","Properties":{"ElapsedMilliseconds":284.7965,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:0000000D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.0774617+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.0863292+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.0908106+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.0934547+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.0949136+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.0988307+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:34.0988019Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.1043846+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.1116156+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.3154648+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.3219253+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.3323247+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.3374421+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:34.3374114Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.3396079+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.3425694+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":244.7478,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.3453266+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.3489326+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":263.0032,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:0000000F","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"263.0032"}]}}
{"Timestamp":"2025-01-20T00:52:34.3519123+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"149db6dc75e1e4f708d57305e502543e","SpanId":"8609445b5542384f","Properties":{"ElapsedMilliseconds":274.3317,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:0000000F","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.5118736+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.5174310+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.5204044+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.5219485+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.5233135+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.5278674+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:34.5278441Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.5324481+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.5388414+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.7445317+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.7492730+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.7680421+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.7728314+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:34.7728151Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.7748976+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.7773367+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":250.2828,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.7806810+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:34.7827638+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":265.7487,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:00000011","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"265.7487"}]}}
{"Timestamp":"2025-01-20T00:52:34.7864510+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e9177d27f1f5fc445d4747256c161527","SpanId":"3031c1b1f91dd54d","Properties":{"ElapsedMilliseconds":274.6166,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000011","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.0932853+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.1015831+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.1074096+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.1109652+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.1134243+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.1196333+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:35.1196067Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.1250292+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.1322576+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.3312553+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.3352629+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.3533686+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.3620383+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:35.3620188Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.3641978+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.3662661+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":247.4956,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.3678679+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.3694828+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":268.2794,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:00000013","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"268.2794"}]}}
{"Timestamp":"2025-01-20T00:52:35.3720692+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"962ae73e4ef3d770b799ae1bb7f5eade","SpanId":"ce617924badac794","Properties":{"ElapsedMilliseconds":278.7585,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000013","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.5026796+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.5059253+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.5122093+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.5141082+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.5243049+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.5304205+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:35.5303958Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.5350830+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.5429934+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.8030820+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.8079612+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.8152729+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"elapsed":"1","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.8183301+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:35.8183122Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.8199996+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.8217913+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":292.1567,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.8243344+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.8266479+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":321.1088,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:00000015","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"321.1088"}]}}
{"Timestamp":"2025-01-20T00:52:35.8291035+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"3b33692d76b727d50de1cca027430d06","SpanId":"3f46012d3e1c9ae0","Properties":{"ElapsedMilliseconds":326.4809,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000015","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.8954042+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.9037523+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.9107675+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.9139180+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.9172297+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.9221015+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:35.9220798Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.9293734+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:35.9357227+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.1605187+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.1713855+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.1926428+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"elapsed":"14","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.1960572+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:36.1960271Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.1984304+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.2013037+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":280.2417,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.2048933+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.2067814+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":303.5748,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:00000017","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"303.5748"}]}}
{"Timestamp":"2025-01-20T00:52:36.2112312+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"16b6bc815c6f7ee6448604bdd9792205","SpanId":"1c3f2f69daff99e6","Properties":{"ElapsedMilliseconds":315.7975,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000017","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.4850940+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.4918593+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.4977911+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.5003444+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.5026823+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.5075799+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:36.5075550Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.5272307+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.5361762+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.7337470+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.7404885+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.7485112+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"elapsed":"3","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.7536167+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:36.7535926Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.7560359+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.7596033+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":252.836,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.7621432+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:36.7641155+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":272.8046,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:00000019","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"272.8046"}]}}
{"Timestamp":"2025-01-20T00:52:36.7677699+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"771e958e1672c1d455150f300a33eb1d","SpanId":"8f2f0508731d3a1f","Properties":{"ElapsedMilliseconds":282.6654,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:00000019","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.1325450+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.1397051+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.1464521+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.1483374+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.1502344+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.1549509+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:37.1549292Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.1599370+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.1697482+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.3881582+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.3971013+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.4171519+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.4232019+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:37.4231566Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.4271788+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.4296547+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":275.4478,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.4327255+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.4348009+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":295.6504,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:0000001B","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"295.6504"}]}}
{"Timestamp":"2025-01-20T00:52:37.4385209+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"10362365575ddca8ac498eea9b47ab85","SpanId":"1ecf62a279c2a86c","Properties":{"ElapsedMilliseconds":305.9779,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:0000001B","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.5215012+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.5274074+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.5318596+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.5343426+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.5356986+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.5390838+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:37.5390530Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.5445905+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.5526521+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.7536893+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.7598800+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.7805220+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"elapsed":"15","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.7871620+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:52:37.7871038Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.7893538+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c333ec14-395b-4977-b1ad-e89e0dd343be","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.7921796+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":254.163,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.7950463+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:52:37.7983931+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":271.6016,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORFELNE3M:0000001D","ConnectionId":"0HN9ORFELNE3M"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"271.6016"}]}}
{"Timestamp":"2025-01-20T00:52:37.8018125+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c0b1b8f0330444d1f1be8ac702069f76","SpanId":"b699cc78867f9454","Properties":{"ElapsedMilliseconds":280.3088,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORFELNE3M:0000001D","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORFELNE3M"}}
{"Timestamp":"2025-01-20T00:53:38.9062094+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T00:53:39.1026476+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:53:39.1054513+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:53:39.1362251+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:53:39.1399121+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:53:39.1422345+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T00:53:39.2050930+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:53:39.2768329+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:53:39.2845864+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:53:39.2905139+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:53:39.3146071+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:53:39.4244151+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:53:39.4240248Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:53:40.4955416+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"elapsed":"34","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:53:40.5817103+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"elapsed":"8","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:04.8983970+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:04.9090072+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:05.1232375+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"elapsed":"18","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:05.1497750+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:54:05.1496423Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:05.1634807+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:05.1890385+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","ElapsedMilliseconds":25862.3479,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:05.2011688+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:05.2109717+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/Login","StatusCode":200,"Elapsed":25964.3985,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORGEJTBB2:00000001","ConnectionId":"0HN9ORGEJTBB2"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"25964.3985"}]}}
{"Timestamp":"2025-01-20T00:54:05.2416370+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"1f4d89025017cf7f13e674f6ae788f89","SpanId":"25917795ab7eb3a8","Properties":{"ElapsedMilliseconds":26037.9357,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORGEJTBB2:00000001","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:16.0928278+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"67103498ad8babacad66ebce7091fb6c","SpanId":"79366597036cda2e","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":55,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/Login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORGEJTBB2:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:16.1072151+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"67103498ad8babacad66ebce7091fb6c","SpanId":"79366597036cda2e","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORGEJTBB2:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:16.1116399+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"67103498ad8babacad66ebce7091fb6c","SpanId":"79366597036cda2e","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORGEJTBB2:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:16.1133355+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"67103498ad8babacad66ebce7091fb6c","SpanId":"79366597036cda2e","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.Login (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORGEJTBB2:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:16.1150086+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"67103498ad8babacad66ebce7091fb6c","SpanId":"79366597036cda2e","Properties":{"RouteData":"{action = \"Login\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] Login(Store.Application.Features.Users.Commands.Login.LoginCommand)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:16.1216404+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"67103498ad8babacad66ebce7091fb6c","SpanId":"79366597036cda2e","Properties":{"RequestName":"LoginCommand","DateTimeUtc":"2025-01-19T22:54:16.1215409Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:16.1404792+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"67103498ad8babacad66ebce7091fb6c","SpanId":"79366597036cda2e","Properties":{"elapsed":"1","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\nORDER BY [u].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T00:54:16.1495932+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"67103498ad8babacad66ebce7091fb6c","SpanId":"79366597036cda2e","Properties":{"elapsed":"2","parameters":"@__ToLower_0='?' (Size = 50)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [s].[UserId], [s].[RoleId], [s].[Id], [s].[Name], [u1].[Id]\r\nFROM (\r\n    SELECT TOP(1) [u].[Id]\r\n    FROM [Users] AS [u]\r\n    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0\r\n) AS [u1]\r\nINNER JOIN (\r\n    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]\r\n    FROM [UserRoles] AS [u0]\r\n    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]\r\n) AS [s] ON [u1].[Id] = [s].[UserId]\r\nORDER BY [u1].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"50d52111-bfb1-4515-acd7-0c3d416ed54e","ActionName":"Store.Api.Controllers.AuthController.Login (Store.Api)","RequestId":"0HN9ORGEJTBB2:00000003","RequestPath":"/api/auth/Login","ConnectionId":"0HN9ORGEJTBB2"}}
{"Timestamp":"2025-01-20T01:04:48.6398566+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T01:04:48.7765239+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T01:04:48.7791308+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T01:04:48.8044356+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T01:04:48.8063540+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T01:04:48.8081459+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T01:04:48.9146796+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":0,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:48.9814295+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:48.9861657+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:48.9911144+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:49.0278179+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"RouteData":"{action = \"RefreshToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] RefreshToken(System.String)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:49.0493095+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"RequestName":"RefreshTokenCommand","DateTimeUtc":"2025-01-19T23:04:49.0489714Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:50.1708332+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"elapsed":"52","parameters":"@__value_0='?' (Size = 250)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[IsRevoked], [r].[Token], [r].[UserId]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[Token] = @__value_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:50.2759363+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"elapsed":"5","parameters":"@__p_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:50.4164970+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"elapsed":"6","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:50.4297710+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"RequestName":"RefreshTokenCommand","DateTimeUtc":"2025-01-19T23:04:50.4297081Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:50.4352669+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:50.4495799+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","ElapsedMilliseconds":1413.7598,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:50.4543401+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:04:50.4587862+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","StatusCode":200,"Elapsed":1511.0756,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORMM75S4H:00000001","ConnectionId":"0HN9ORMM75S4H"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"1511.0756"}]}}
{"Timestamp":"2025-01-20T01:04:50.4696548+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"c46e5feb3860bd16556c0d428334f6b5","SpanId":"18f73f19e8e9cd0d","Properties":{"ElapsedMilliseconds":1557.3618,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORMM75S4H:00000001","RequestPath":"/api/auth/RfreshToken/nuhNF5rr2gZxFBZrSlLAElDGswa6LBNXWVWRBGGRyGVe55Z0XAvkwrp9jpEyEPFE9SNN-454CPI55loDftsBEi3tVkuMNoc06FAgGMczigTYFv5WBc-A-Xa82Lxi3XMNOM8EADBArEnc_pZgFzAeYRNSnOF6bsggGHZgKj36kwc","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.6465538+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":0,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.6863756+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.6934086+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.6964039+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.6998522+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"RouteData":"{action = \"RefreshToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] RefreshToken(System.String)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.7068784+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"RequestName":"RefreshTokenCommand","DateTimeUtc":"2025-01-19T23:05:48.7067814Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.7393207+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"elapsed":"5","parameters":"@__value_0='?' (Size = 250)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[IsRevoked], [r].[Token], [r].[UserId]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[Token] = @__value_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.7563480+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"elapsed":"4","parameters":"@__p_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.7767710+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"elapsed":"7","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.7858220+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"RequestName":"RefreshTokenCommand","DateTimeUtc":"2025-01-19T23:05:48.7857565Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.7906614+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.7955953+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","ElapsedMilliseconds":91.189,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.8009912+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:05:48.8036512+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","StatusCode":200,"Elapsed":118.3468,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORMM75S4H:00000003","ConnectionId":"0HN9ORMM75S4H"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"118.3468"}]}}
{"Timestamp":"2025-01-20T01:05:48.8107143+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"4ac81c69f5ddf3f76bf631123f241a19","SpanId":"7709fa26e33f25e8","Properties":{"ElapsedMilliseconds":165.9857,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORMM75S4H:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.4707757+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":0,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.4894475+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.4961898+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.5010552+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.5036310+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"RouteData":"{action = \"RefreshToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] RefreshToken(System.String)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.5146992+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"RequestName":"RefreshTokenCommand","DateTimeUtc":"2025-01-19T23:06:23.5146455Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.6434812+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"elapsed":"5","parameters":"@__value_0='?' (Size = 250)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[IsRevoked], [r].[Token], [r].[UserId]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[Token] = @__value_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.6544070+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"elapsed":"4","parameters":"@__p_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.6820733+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"elapsed":"17","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.6870177+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"RequestName":"RefreshTokenCommand","DateTimeUtc":"2025-01-19T23:06:23.6869753Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.6887065+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"969fb6e6-b34d-49e9-9594-ab028aa60bf4","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.6938426+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","ElapsedMilliseconds":184.677,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.6986227+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:06:23.7009243+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","StatusCode":200,"Elapsed":215.8459,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9ORMM75S4H:00000005","ConnectionId":"0HN9ORMM75S4H"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"215.8459"}]}}
{"Timestamp":"2025-01-20T01:06:23.7105873+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"347e47e4013179b3f6112e78dd052132","SpanId":"f4b3aaef0f40e093","Properties":{"ElapsedMilliseconds":240.0632,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9ORMM75S4H:00000005","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9ORMM75S4H"}}
{"Timestamp":"2025-01-20T01:08:47.4134005+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T01:08:47.5604865+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T01:08:47.5648333+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T01:08:47.5887145+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T01:08:47.5914703+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T01:08:47.5939385+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T01:08:52.1015193+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":0,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:52.1718890+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:52.1807818+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:52.1851543+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:52.2095733+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"RouteData":"{action = \"RefreshToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] RefreshToken(System.String)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:52.2331215+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"RequestName":"RefreshTokenCommand","DateTimeUtc":"2025-01-19T23:08:52.2327174Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:54.1933785+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"elapsed":"97","parameters":"@__value_0='?' (Size = 250)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[IsRevoked], [r].[Token], [r].[UserId]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[Token] = @__value_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:54.4319306+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"elapsed":"6","parameters":"@__p_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Id], [u].[CreatedOn], [u].[Email], [u].[FirstName], [u].[HashedPassword], [u].[IsDeleted], [u].[LastName], [u].[PhoneNumber]\r\nFROM [Users] AS [u]\r\nWHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:54.7302486+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"elapsed":"19","parameters":"@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 250), @p5='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nINSERT INTO [RefreshTokens] ([Id], [CreatedOn], [ExpiresOn], [IsRevoked], [Token], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5);","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:54.7981307+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"elapsed":"11","parameters":"@p0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nDELETE FROM [RefreshTokens]\r\nOUTPUT 1\r\nWHERE [Id] = @p0;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:54.8230490+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"RequestName":"RefreshTokenCommand","DateTimeUtc":"2025-01-19T23:08:54.8228042Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:54.8429508+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"ObjectResultType":"OkObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:54.8784032+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","ElapsedMilliseconds":2652.7112,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:54.8926399+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:08:54.9082152+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","StatusCode":200,"Elapsed":2767.307,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OROUMBH5V:00000001","ConnectionId":"0HN9OROUMBH5V"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"2767.3070"}]}}
{"Timestamp":"2025-01-20T01:08:54.9381191+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"113568dce769e3949e469f4f5a59748c","SpanId":"ca8c951f37b8ad45","Properties":{"ElapsedMilliseconds":2840.4287,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OROUMBH5V:00000001","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:09:02.5410946+02:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Properties":{"Protocol":"HTTP/2","Method":"POST","ContentType":"application/json","ContentLength":0,"Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OROUMBH5V:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:09:02.5566134+02:00","Level":"Information","MessageTemplate":"Failed to validate the token.","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Exception":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","Properties":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OROUMBH5V:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:09:02.5626009+02:00","Level":"Information","MessageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Properties":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN9OROUMBH5V:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:09:02.5667308+02:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OROUMBH5V:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:09:02.5708701+02:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Properties":{"RouteData":"{action = \"RefreshToken\", controller = \"Auth\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Store.Application.Responses.TokenResponse]] RefreshToken(System.String)","Controller":"Store.Api.Controllers.AuthController","AssemblyName":"Store.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:09:02.5777224+02:00","Level":"Information","MessageTemplate":"Processing Request {@RequestName}, {@DateTimeUtc}","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Properties":{"RequestName":"RefreshTokenCommand","DateTimeUtc":"2025-01-19T23:09:02.5775824Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:09:02.6095639+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Properties":{"elapsed":"6","parameters":"@__value_0='?' (Size = 250)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [r].[Id], [r].[CreatedOn], [r].[ExpiresOn], [r].[IsRevoked], [r].[Token], [r].[UserId]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[Token] = @__value_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:09:02.6170674+02:00","Level":"Information","MessageTemplate":"Completed Request {@RequestName}, {@DateTimeUtc}","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Properties":{"RequestName":"RefreshTokenCommand","DateTimeUtc":"2025-01-19T23:09:02.6169915Z","SourceContext":"Store.Application.PipelineBehaviors.LoggingPipeLineBehavior","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:09:02.6209893+02:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Properties":{"ObjectResultType":"BadRequestObjectResult","Type":"Store.Application.Responses.Response`1[[Store.Application.Responses.TokenResponse, Store.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"3f0c63bd-c1ef-46da-878d-c40f42f9bf71","ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","RequestId":"0HN9OROUMBH5V:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:09:02.6245255+02:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Properties":{"ActionName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","ElapsedMilliseconds":49.741,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN9OROUMBH5V:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:09:02.6289848+02:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Properties":{"EndpointName":"Store.Api.Controllers.AuthController.RefreshToken (Store.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN9OROUMBH5V:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T01:09:02.6324136+02:00","Level":"Information","MessageTemplate":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Properties":{"RequestMethod":"POST","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","StatusCode":400,"Elapsed":77.1545,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HN9OROUMBH5V:00000003","ConnectionId":"0HN9OROUMBH5V"},"Renderings":{"Elapsed":[{"Format":"0.0000","Rendering":"77.1545"}]}}
{"Timestamp":"2025-01-20T01:09:02.6372335+02:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d8b11b1bab084b2673ebbf38546981ef","SpanId":"6f65d87b905c0030","Properties":{"ElapsedMilliseconds":96.3872,"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/2","Method":"POST","Scheme":"https","Host":"localhost:7017","PathBase":"","Path":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN9OROUMBH5V:00000003","RequestPath":"/api/auth/RfreshToken/Wl69pQviF8z4EbQKZTxnMLPvbbPIrcdRXFuc7zB5irzhUh4ZrsTPvQpzSkXsM6gFlEKcJQOsB39RcHKdo7G4OHrv8cZWO4FNtmoBqUHPqb0Z6MT-1tYkQXiBHQXld-RI4uuTcNqeAcmdpa-bRmzbdLdn0kDvMonf10Mp1xr9w0c","ConnectionId":"0HN9OROUMBH5V"}}
{"Timestamp":"2025-01-20T02:11:46.9621852+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T02:11:47.1981559+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:11:47.2020668+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:11:47.2264847+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:11:47.2302886+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:11:47.2335555+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:16:13.1291058+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T02:16:13.2897681+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:16:13.2943118+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:16:13.3150186+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:16:13.3178890+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:16:13.3199877+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:16:43.5101329+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:16:45.4500822+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"49","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:16:45.4647235+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:17:13.2290813+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:17:13.3082404+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:17:13.3134108+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:18:13.5146304+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T02:18:13.7076949+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:18:13.7125454+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:18:13.7340942+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:18:13.7364743+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:18:13.7390681+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:23:38.7023009+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T02:23:38.8694064+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:23:38.8719961+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:23:38.8984422+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:23:38.9022661+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:23:38.9054955+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:24:08.9415642+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:24:11.0389917+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"52","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:24:11.0683479+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:24:38.8900088+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:24:38.9357908+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"10","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:24:38.9469827+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:25:08.7739902+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:25:08.8258428+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:25:08.8342322+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:25:38.7621175+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:25:38.8528062+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:25:38.8601840+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:26:08.7639194+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:26:08.7823213+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"8","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:26:08.7931884+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:26:38.7659987+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:26:38.7771185+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:26:38.7859545+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:27:08.8206162+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:27:08.8338638+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:27:08.8411741+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:27:38.7499247+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:27:38.7603360+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:27:38.7636512+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:28:08.8222432+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:28:08.8702012+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"8","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:28:08.8774822+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:28:38.7761011+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:28:38.7899623+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"8","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:28:38.8086875+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:29:08.7637434+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:29:08.7773974+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"8","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:29:08.7924168+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:29:38.7629498+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:29:38.8525055+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"44","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:29:38.8596116+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:30:08.7742124+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:30:08.7864132+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:30:08.7998998+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:30:38.7503187+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:30:38.7600568+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:30:38.7665342+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:31:08.8044558+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:31:08.8194014+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:31:08.8249655+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:31:19.8627240+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T02:31:19.9784299+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:31:21.0417162+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:31:21.0439936+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:31:21.0458948+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"36","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:31:21.0631133+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:31:21.0850118+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:31:21.0865414+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:31:21.0879641+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:31:51.1487983+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:31:51.1964398+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:31:51.2019276+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:32:21.2238190+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:32:21.3182645+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"5","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:32:21.3221806+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:32:32.1335734+02:00","Level":"Information","MessageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","Properties":{"FullName":"C:\\Users\\huawe\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"Timestamp":"2025-01-20T02:32:32.2941225+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:7017","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:32:32.2994617+02:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5215","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:32:32.3205504+02:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:32:32.3244054+02:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:32:32.3262321+02:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"D:\\C# Projects\\Store\\Store.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-01-20T02:33:02.3304691+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:33:03.2628075+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"24","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:33:03.2808169+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:33:33.3347004+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:33:33.4238611+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"9","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:33:33.4344908+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:34:03.4490618+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:34:03.5991124+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"9","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:34:03.6089547+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:34:33.6173544+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:34:33.6309869+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"8","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:34:33.6461351+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:35:03.6662978+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:35:03.6900622+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:35:03.6961271+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:35:33.7118967+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:35:33.7278123+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"8","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:35:33.7422010+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:36:03.7600788+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:36:03.7821241+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:36:03.7873022+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:36:33.7974217+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:36:33.8124239+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"8","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:36:33.8431666+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:37:03.8487389+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:37:03.8908919+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:37:03.8961305+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:37:33.8993970+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:37:33.9197994+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"15","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:37:33.9574523+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:38:03.9712933+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:38:03.9967315+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"8","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:38:04.0042141+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:38:34.0181378+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:38:34.0300617+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"7","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:38:34.0364789+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:39:04.0450936+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:39:04.0850768+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"6","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:39:04.0892792+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:50:42.2801201+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:50:42.3227854+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"37","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:50:42.3305034+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:51:12.3408386+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:51:12.3487645+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:51:12.3629042+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:51:42.3609464+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:51:42.4228922+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"28","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:51:42.4312645+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:52:12.4336621+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:52:12.4419312+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:52:12.4565502+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:52:42.4572726+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:52:42.4965319+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"21","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:52:42.5035297+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:53:12.5194463+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:53:12.5500179+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"26","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:53:12.5604489+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:53:42.5742325+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:53:42.5847805+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:53:42.5880809+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:54:12.5971718+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:54:12.6305271+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"30","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:54:12.6413896+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:54:42.6566507+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:54:42.7086064+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:54:42.7176319+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:55:12.7303606+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:55:12.7621526+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"26","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:55:12.8010364+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:55:42.8138959+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table started","Properties":{"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
{"Timestamp":"2025-01-20T02:55:42.8647831+02:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"DELETE FROM [r]\r\nFROM [RefreshTokens] AS [r]\r\nWHERE [r].[IsRevoked] = CAST(1 AS bit) OR [r].[CreatedOn] > GETUTCDATE()","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-01-20T02:55:42.8721141+02:00","Level":"Information","MessageTemplate":"Cleaning Refresh Table finished with {@totalTokens} removed","Properties":{"totalTokens":0,"SourceContext":"Store.Api.BackgroundTasks.RefreshTokensCleanerTask"}}
